ระบบ,ฟังก์ชั่น,ขั้นตอนการทำงาน,การแจ้งเตือน,ช่องทางข้อมูล,หมวดข้อมูล,รายละเอียด,ชื่อฟิลด์ (Field Name),คำอธิบายฟิลด์,การเชื่อมโยง,ประเภทข้อมูล (Data Type),คำอธิบาย (Description),API ,Link
1.การจัดการสต็อกน้ำมันและสมุดบัญชี,1. การสั่งซื้อน้ำมัน,"1. สาขาแต่ละแห่งกรอก “ประมาณการสั่ง”
          - ผู้จัดการสาขา (หรือผู้ที่มีสิทธิ์) เข้าเมนู “แจ้งความต้องการน้ำมัน”
          - กรอก EstimatedOrderAmount (ลิตรที่คาดว่าจะต้องการ) แยกตาม OilType
          - ระบบบันทึก RequestedByBranch + วันที่กรอกอัตโนมัติ
          - ส่งข้อมูลไปยังสำนักงานใหญ่ (ปั๊มไฮโซ) ทันที

2. สำนักงานใหญ่เห็นยอดขอจากทุกสาขา
          - คุณนิด (หรือผู้ที่มีสิทธิ์ศูนย์กลาง) เข้าเมนู “สรุปคำขอสั่งน้ำมันทั้ง 5 สาขา”
          - ระบบแสดงตารางเปรียบเทียบ
                  - ยอดขอจากสาขา
                  - ยอดวิเคราะห์จากระบบ (คำนวณจากยอดขายเฉลี่ย 7–14 วัน + สต็อกคงเหลือใต้ดิน)
                  - ยอดคงเหลือใต้ดินปัจจุบัน + แจ้งเตือนสีแดงถ้าเหลือต่ำกว่าเกณฑ์
          - คุณนิดสามารถแก้ไข QuantityOrdered ได้ทุกสาขา

3. ตรวจสอบความจุรถน้ำมัน
          - ระบบคำนวณอัตโนมัติว่าต่อมื้อ (เช้า/บ่าย/เย็น) ว่าต้องใช้รถกี่คัน กี่ช่อง
          - แสดง TruckCount และ TruckCapacityChamber1-7 ให้กรอกความจุจริงของรถที่จะมาในวันนั้น
          - ถ้าปริมาณรวมเกินความจุรถ ระบบแจ้งเตือนสีส้มทันที

4. เลือกนิติบุคคลที่จะออกบิล
          - เลือก LegalEntityID (ห้างไหนออกบิลให้สาขานี้)
          - ถ้าเป็นการส่งเป็นระหว่างสาขา → ตั้ง flag IsInterbranch = True

5. อนุมัติและส่งออเดอร์
          - คุณนิดกด “อนุมัติและส่งออเดอร์”
          - ระบบสร้าง OrderNo อัตโนมัติ + เปลี่ยน OrderStatus = “อนุมัติแล้ว”
          - ส่งข้อมูลเข้า ปตท. E-Order อัตโนมัติ (หรือ export ไฟล์ Excel ให้คีย์มือ)

6. หลังส่งออเดอร์
          - ทุกสาขาเห็นสถานะใบสั่งซื้อของตนเองแบบเรียลไทม์
          - ระบบล็อกไม่ให้แก้ไข QuantityOrdered ได้อีก (ยกเว้นคุณนิดเท่านั้นที่แก้ได้)","1. สต็อกน้ำมันเหลือต่ำกว่าเกณฑ์ที่ตั้งไว้
→ แจ้งผู้จัดการสาขานั้น + คุณนิด
ข้อความ: “สาขา [ชื่อสาขา] – [ประเภทน้ำมัน] เหลือเพียง X,XXX ลิตร ใกล้หมด กรุณากรอกความต้องการด่วน”

2. สาขายังไม่กรอกความต้องการน้ำมันภายในเวลาก่อนเที่ยง
→ แจ้งผู้จัดการสาขานั้น + คุณนิด
ข้อความ: “สาขา [ชื่อสาขา] ยังไม่ได้แจ้งความต้องการน้ำมันวันนี้ (ภายใน 12:00 น.)”

3. มีสาขากรอกความต้องการน้ำมันเกินความจุรถ 1 คัน
→ แจ้งคุณนิดทันที
ข้อความ: “วันที่ [วันที่] ปริมาณรวม X,XXX ลิตร เกินความจุรถ 1 คัน กรุณาตรวจสอบและแบ่งวัน”

4. มีการแก้ไขยอดประมาณการจากสาขา (หลังส่งแล้ว)
→ แจ้งคุณนิด
ข้อความ: “สาขา [ชื่อสาขา] แก้ยอด [ประเภทน้ำมัน] จาก X,XXX → XXXXX ลิตร”

5. มีใบสั่งซื้อรออนุมัติเกิน 2 ชั่วโมง
→ แจ้งคุณนิด
ข้อความ: “มีใบสั่งซื้อน้ำมัน X ใบ (รวม XXXXXX ลิตร) รออนุมัติเกิน 2 ชม.”

6. คุณนิดอนุมัติใบสั่งซื้อแล้ว
→ แจ้งทุกสาขาที่เกี่ยวข้อง + บัญชี
ข้อความ: “ใบสั่งซื้อเลขที่ SO-XXXXXXX อนุมัติแล้ว กำหนดรับน้ำมันวันที่ DD/MM/YYYY”

7. ส่งออเดอร์ไป ปตท. E-Order เรียบร้อย
→ แจ้งคุณนิด + ทุกสาขา
ข้อความ: “ส่งออเดอร์เลขที่ SO-XXXXXXX ไป ปตท. แล้ว (XXXXXX ลิตร)”

8. ปริมาณสั่งน้ำมันวันนี้สูงกว่าค่าเฉลี่ย 30%
→ แจ้งคุณนิด
ข้อความ: “วันนี้สั่งน้ำมันสูงกว่าค่าเฉลี่ย 30% (XXXXXX ลิตร) กรุณาตรวจสอบ”

9. ใกล้วันหยุดยาว (สงกรานต์/ปีใหม่) แต่ยังไม่มีใบสั่งซื้อ
→ แจ้งคุณนิด 3 วันล่วงหน้า
ข้อความ: “อีก 3 วันเป็นวันหยุดยาว ยังไม่มีใบสั่งซื้อน้ำมัน กรุณาตรวจสอบสต็อก”

10. มีการยกเลิกหรือแก้ไขใบสั่งซื้อหลังส่ง ปตท. แล้ว
→ แจ้งคุณนิด + บัญชี
ข้อความ: “ใบสั่งซื้อ SO-XXXXXXX ถูกแก้ไข/ยกเลิกหลังส่ง ปตท. แล้ว กรุณาติดต่อ ปตท. ด่วน”","1. กรอกด้วยมือจากผู้จัดการสาขา
           ข้อมูลที่นำเข้า: EstimatedOrderAmount (ยอดประมาณการต้องการน้ำมัน) แยกตามประเภทน้ำมัน
           วิธีการ: ผู้จัดการแต่ละสาขา 5 คน กรอกเองผ่านหน้าเว็บหรือแอปทุกวันก่อนเที่ยง

2. อัปโหลดไฟล์ Excel จาก Back Office ปตท.
           ข้อมูลที่นำเข้า: ยอดขายรายวัน + ยอดสต็อกใต้ดิน + รายงาน BOR006
           วิธีการ: บัญชีหรือคุณนิดอัปโหลดไฟล์ที่ดาวน์โหลดมาจากระบบหลังบ้าน ปตท. ของแต่ละสาขา

3. ดึงข้อมูลสต็อกใต้ดินแบบอัตโนมัติ (ATG)
           ข้อมูลที่นำเข้า: ยอดน้ำมันคงเหลือจริงในหลุมใต้ดินทุกหลุม
           วิธีการ: ระบบดึงอัตโนมัติจาก Back Office ปตท. ทุกวันเวลา 16:30 น.

4. กรอก/แก้ไขยอดสั่งจริงโดยคุณนิด
           ข้อมูลที่นำเข้า: QuantityOrdered สุดท้ายของแต่ละสาขาและแต่ละประเภทน้ำมัน
           วิธีการ: คุณนิดกรอกหรือแก้ไขเองที่สำนักงานใหญ่ (ปั๊มไฮโซ)

5. กรอกความจุรถน้ำมันโดยคุณนิด
           ข้อมูลที่นำเข้า: ความจุจริงของรถรอบนั้น (TruckCapacityChamber1 ถึง TruckCapacityChamber7)
           วิธีการ: คุณนิดกรอกตามที่ ปตท. แจ้งมาในแต่ละรอบส่ง

6. เลือกนิติบุคคลออกบิลโดยคุณนิด
           ข้อมูลที่นำเข้า: LegalEntityID (ห้างไหนออกบิลให้สาขานี้)
           วิธีการ: คุณนิดเลือกจากรายการ 5 ห้างในระบบ

7. นำเข้าราคาน้ำมันวันปัจจุบัน
           ข้อมูลที่นำเข้า: ราคาต่อลิตรล่าสุดของทุกประเภทน้ำมัน
           วิธีการ: อัปโหลดไฟล์ Excel จาก ปตท. หรือกรอกมือจากเว็บ ปตท.

8. สแกน/อัปโหลดเอกสารกระดาษ (สำรอง)
           ข้อมูลที่นำเข้า: ใบขอสั่งน้ำมันที่เป็นกระดาษจากสาขา
           วิธีการ: สแกนเป็น PDF แล้วอัปโหลดแนบในระบบ (ใช้เมื่อเน็ตล่มหรือฉุกเฉิน)

9. ระบบคำนวณยอดแนะนำอัตโนมัติ
           ข้อมูลที่นำเข้า: ไม่ต้องกรอกมือ (ระบบคำนวณเอง)
           วิธีการ: ดึงจากยอดขายเฉลี่ย 7–14 วัน + สต็อกปัจจุบัน + ปฏิทินวันหยุดยาว

10. แจ้งยอดด่วนผ่าน Line Group
           ข้อมูลที่นำเข้า: ยอดขอเพิ่มหรือแจ้งแก้ไขด่วนจากสาขา
           วิธีการ: ผู้จัดการสาขาส่งไฟล์หรือข้อความใน Line Group “สั่งน้ำมัน” → คุณนิดนำมาปรับในระบบ",ข้อมูลการซื้อน้ำมันเข้า,"น้ำมันซื้อเข้าแยกตามประเภท
1. Premium Diesel
2. Premium Gasohol 95
3. Diesel
4. E85
5. E20
6. Gasohol 91
7. Gasohol 95","1. OilType
2. QuantityOrdered
3. BranchID
4. EstimatedOrderAmount
5. AlertLowStock
6. TruckCapacityChamber1-7
7. OrderNo
8. OrderDate, DeliveryDate
9. OrderStatus
10.  ApprovedBy
11.  LegalEntityID
12.  SupplierOrderNo
13.  TotalAmount
14.  PricePerLiter
15.  TruckCount
16.  IsInterbranch
17.  RequestedByBranch
18.  TolerancePercent","1. OilType - ประเภทน้ำมัน (e.g., Premium Diesel)
2. QuantityOrdered – จำนวนลิตรที่สั่ง
3. BranchID – รหัสสาขา
4. EstimatedOrderAmount – ประมาณการสั่งจากผู้จัดการสาขา
5. AlertLowStock - แจ้งเตือนน้ำมันเหลือน้อย
6. TruckCapacityChamber1-7 - ความจุแต่ละช่องของรถน้ำมัน
7. OrderNo (เลขที่ใบสั่งซื้อ)
8. OrderDate, DeliveryDate (วันที่สั่ง, วันที่ต้องการรับ)
9. OrderStatus (ร่าง / รออนุมัติ / อนุมัติแล้ว / ส่งแล้ว / ยกเลิก)
10.  ApprovedBy (รหัสพนักงานที่อนุมัติ – คุณนิด)
11.  LegalEntityID (นิติบุคคลที่ออกบิล)
12.  SupplierOrderNo (เลขที่ออเดอร์ในระบบปตท. E-Order)
13.  TotalAmount (มูลค่ารวมใบสั่งซื้อ)
14.  PricePerLiter (ราคาต่อลิตร ณ วันที่สั่ง)
15.  TruckCount (จำนวนรถที่ต้องใช้)
16.  IsInterbranch (เป็นการส่งระหว่างสาขาหรือซื้อจากปตท.โดยตรง)
17.  RequestedByBranch (สาขาที่ขอ) + FinalOrderedByHeadOffice
18.  TolerancePercent (เปอร์เซ็นต์ความคลาดเคลื่อนที่ยอมรับเมื่อรับจริง)","1. เชื่อมกับโมดูลสต็อกน้ำมันและสมุดบัญชี
           → ส่ง QuantityOrdered + OilType + BranchID ไปอัปเดต “สมุดตั้งพัก” และ “สมุดน้ำมันลงหลุม” 
                ทันทีที่อนุมัติ
           → ดึงยอดสต็อกใต้ดินจริง (ATG) + ยอดขายรายวันมาใช้คำนวณยอดแนะนำ

2. เชื่อมกับระบบ Back Office ปตท. (ทั้ง 5 สาขา)
           → นำเข้าไฟล์ Excel (ยอดขาย, สต็อก, BOR006)
           → ดึงยอด ATG อัตโนมัติทุกวัน 16:30 น.

3. เชื่อมกับโมดูลลูกหนี้/เจ้าหนี้ระหว่างสาขา (Debtor/Creditor)
           → ถ้า IsInterbranch = True → บันทึกเป็น “ลูกหนี้ระหว่างสาขา” ให้สาขาที่รับน้ำมัน
           → สร้างรายการเจ้าหนี้ให้สาขาใหญ่ (ปั๊มไฮโซ)

4. เชื่อมกับโมดูลบัญชีและการเงิน
           → ส่ง OrderNo + TotalAmount + LegalEntityID + PricePerLiter ไปตั้งหนี้รอจ่ายให้ ปตท.
           → ส่งข้อมูลไปตัดยอดซื้อน้ำมันในงบดุลและกำไรขาดทุนทันทีที่รับน้ำมันจริง

5. เชื่อมกับโมดูลภาษีซื้อ (Tax Invoice)
           → ส่ง OrderNo ไปจับคู่กับใบกำกับภาษีที่โหลดจากเว็บ ปตท. หรือ ดีแท็ก
           → คำนวณภาษีซื้ออัตโนมัติ (แม้มีส่วนลดก็ต้องเอายอดเต็มมาคิดภาษี)

6. เชื่อมกับโมดูลแจ้งเตือน (Notification)
           → ส่งข้อมูลไป Line Group “สั่งน้ำมัน” และแจ้งเตือนในระบบทุกเหตุการณ์ (ข้อ 1–10 ที่เคยเขียน)

7. เชื่อมกับระบบ E-Order ของ ปตท.
           → Export ไฟล์หรือส่ง API ตรงไปยังระบบ E-Order ของ ปตท.
           → ดึงเลขที่ออเดอร์จาก ปตท. กลับมาเก็บเป็น SupplierOrderNo

8. เชื่อมกับโมดูลรายงานและแดชบอร์ด
           → ส่งข้อมูลสรุปยอดสั่งซื้อรายวัน/สัปดาห์/เดือน แยกสาขาและนิติบุคคล
           → แสดงกราฟแนวโน้มการสั่งน้ำมันและเปรียบเทียบกับยอดขาย

9. เชื่อมกับโมดูลสิทธิ์ผู้ใช้ (User Role)
           → ผู้จัดการสาขา: กรอก EstimatedOrderAmount ได้อย่างเดียว
           → คุณนิด: แก้ไข + อนุมัติ + กรอกความจุรถ + เลือกนิติบุคคลได้เท่านั้น
           → บัญชี: อ่านได้อย่างเดียว

10. เชื่อมกับโมดูลประวัติการแก้ไข (Audit Log)
           → บันทึกทุกครั้งที่มีการแก้ QuantityOrdered ว่าใครแก้ เมื่อไหร่ จากเท่าไหร่ → เป็นเท่าไหร่","1. String
           (OrderNo, OrderStatus, SupplierOrderNo, OilType)

2. Number
           (QuantityOrdered, EstimatedOrderAmount, TotalAmount, PricePerLiter, 
           TruckCapacityChamber1, TruckCapacityChamber2, TruckCapacityChamber3, 
           TruckCapacityChamber4, TruckCapacityChamber5, TruckCapacityChamber6, 
           TruckCapacityChamber7)

3. Integer
           (BranchID, ApprovedBy, LegalEntityID, TruckCount, RequestedByBranch)

4. Date
           (OrderDate, DeliveryDate)

5. Boolean
           (AlertLowStock, IsInterbranch)
","1. สั่งน้ำมันโดยสำนักงานใหญ่ (ปั๊มไฮโซ) ให้ 5 สาขา
2. ทุกสาขาส่งปริมาณน้ำมันมาให้สาขาใหญ่พิจารณา
3. บิลสั่งน้ำมันแยกตามสาขา
4. กรณีพิเศษอาจส่งน้ำมันไปปั๊มอื่นตามความจำเป็น
5. ในบัญชีแยกสาขาชัดเจน ส่งน้ำมันให้ก่อนแล้วเรียกเก็บ
6. รองรับการนำเข้าข้อมูลจากไฟล์ Excel ของระบบหลังบ้าน ปตท.
7. รองรับการสั่งซื้อน้ำมันแยกตามนิติบุคคล โดยบันทึกการส่งให้สาขาหลายนิติบุคคลและเชื่อมโยงกับบัญชีเจ้าหนี้/ลูกหนี้
8. มีการวิเคราะห์ปริมาณน้ำมันว่าควรสั่งเท่าไหร่ (แต่ละสาขานำเข้าข้อมูลปริมาณน้ำมันใต้ดิน แล้วผู้รับผิดชอบเห็นยอดวิเคราะห์น้ำมันแต่ละสาขา และสั่งน้ำมันให้ได้เลย)
9. มีแจ้งเตือนปริมาณน้ำมันเหลือน้อย
10. การสั่งน้ำมันต้องดูที่ความจุของรถด้วย (รถ 1 คันมี 7 ช่อง ความจุ/ช่อง เช่น 3,000 ลิตร, 7,000 ลิตร, 4,000 ลิตร)
11. สามารถแก้ไขการกรอกจำนวนการสั่งน้ำมันได้
12. ระบบส่งยอดให้สาขาใหญ่และกรอกประมาณจำนวนน้ำมันเองของผู้จัดการแต่ละสาขา ให้สาขามีส่วนร่วม แล้วรวบรวมข้อมูลมาที่สาขาใหญ่แล้วคุณนิดตัดสินใจพิจารณาอีกที
13. ศูนย์กลางการสั่งน้ำมันอยู่ที่ปั๊มไฮโซ
14. บิลการสั่งน้ำมัน แยกตามสาขาเลยบิลละ 1 สาขา แต่สาขาใหญ่สั่งให้เฉยๆ
15. ในทางบัญชี แยกสาขาอย่างชัดเจนส่งน้ำมันให้ก่อนแล้วเรียกเก็บอีกที",,
,2. การรับน้ำมัน,"1. รถน้ำมัน ปตท. เข้าปั๊ม
          - พนักงานเห็นรถมา → กด “เริ่มรับน้ำมันใหม่” ในแอป/เว็บ → ระบบสร้างใบรับน้ำมันใหม่ให้อัตโนมัติ

2. กรอกข้อมูลรถและใบส่งของ
          - ทะเบียนหัวรถ + หาง, ชื่อคนขับ, เลขที่ใบส่งของ (Delivery Note), OrderNo (ถ้ามี), 
             จำนวนช่องรถ (1–7 ช่อง)

3. ทดสอบคุณภาพน้ำมัน (บังคับ)
          - พนักงานทำการทดสอบจริง 5 รายการ → กรอกผล + ถ่ายรูป 4–5 รูป → อัปโหลดทันที
          - ระบบเช็คเกณฑ์ ปตท. อัตโนมัติ → ถ้าไม่ผ่าน = ล็อกขั้นตอนต่อไปทันที

4. วัดยอดก่อนรับ (Before Dip)
          - พนักงานวัดระดับน้ำมันในหลุมก่อนรับ → กรอกยอด (ลิตร) + ถ่ายรูปไม้บรรทัดในหลุม → อัปโหลด

5. เริ่มปล่อยน้ำมันลงหลุม
          - เลือกหลุมที่จะลง + ประเภทน้ำมันให้ตรงกับใบส่งของ
          - ระบุจำนวนลิตรที่ปล่อยแต่ละช่อง (Chamber 1–7)

6. วัดยอดหลังรับ (After Dip)
          - ปล่อยเสร็จ → วัดระดับในหลุมอีกครั้ง → กรอกยอด (ลิตร) + ถ่ายรูปไม้บรรทัด → อัปโหลด
          - ระบบคำนวณยอดรับจริง = After – Before

7. กรอกรายละเอียดเพิ่มเติม
          - API จริง, อุณหภูมิ, หมายเหตุ (เช่น มีน้ำเล็กน้อยแต่ผ่านเกณฑ์)

8. แนบเอกสารและรูปถ่ายทั้งหมด
          - ใบส่งของ ปตท.
          - รูปป้ายทะเบียนรถ
          - รูปมิเตอร์รถก่อน-หลังปล่อย (ถ้ามี)
          - รูปผลทดสอบทุกข้อ
          - รูปไม้บรรทัด Before/After

9. กด “บันทึกการรับน้ำมัน”
          - ระบบเช็คความครบถ้วนอัตโนมัติ
                      - ทดสอบผ่าน?
                      - มีรูปครบ?
                      - ยอดรับไม่เกิน/ต่ำกว่าที่สั่งเกิน 1% โดยไม่มีเหตุผล?
                      - ถ้าผ่านทุกข้อ → บันทึกสำเร็จ

10. ระบบทำงานอัตโนมัติทันทีเมื่อบันทึกสำเร็จ
          - ตัดยอดออกจาก “สมุดตั้งพัก”
          - บันทึกลง “สมุดน้ำมันลงหลุม”
          - เพิ่มยอดเข้า “สมุด Balance Petrol”
          - สร้างรายการใน “สมุดซื้อน้ำมัน”
          - แจ้ง Line Group “รับน้ำมัน” + คุณนิด ว่า “สาขา … รับน้ำมันเรียบร้อย X,XXX ลิตร”
          - แสดงสถานะสีเขียวในแดชบอร์ด",ถ้าส่วนต่างเกินที่กำหนด → แจ้งเตือนใคร (คุณนิด / บัญชี / ผู้จัดการสาขา),,ข้อมูลการรับน้ำมัน,"1. การวัดค่าน้ำมันขาเข้ามีตรวจสอบค่า API ของน้ำมันการคีย์รับน้ำมันเข้าระบบ 
2. Back Office มีโอกาสไม่ตรงกับที่สั่ง แต่%ความคาดเคลื่อนน้อย","1. QuantityOrdered
2. QuantityReceived
3. DifferenceLiter
4. DifferenceAmount
5. APICheck
6. GainLossReason
7. ReceiverEmployeeID
8. DriverName
9. TruckLicensePlate
10. DeliveryNoteNo
11. ReceiveDateTime
12. TruckCapacityChamber1-7
13. OilType
14. BranchID
15. AlertToleranceExceeded","1. QuantityOrdered – จำนวนลิตรที่สั่ง (ดึงจากใบสั่งซื้อ)
2. QuantityReceived – จำนวนลิตรที่รับจริง
3. DifferenceLiter – ส่วนต่างลิตร (รับจริง − สั่ง)
4. DifferenceAmount – มูลค่าส่วนต่าง
5. APICheck – ค่า API ตรวจสอบคุณภาพน้ำมัน
6. GainLossReason – เหตุผลส่วนต่าง (บังคับกรอกถ้าเกิน % ที่กำหนด)
7. ReceiverEmployeeID – รหัสพนักงานที่เซ็นรับน้ำมัน
8. DriverName – ชื่อคนขับรถน้ำมัน
9. TruckLicensePlate – ทะเบียนรถน้ำมัน
10. DeliveryNoteNo – เลขที่ใบส่งของจาก ปตท.
11. ReceiveDateTime – วันที่และเวลาที่รับน้ำมันจริง
12. TruckCapacityChamber1-7 – ความจุจริงของแต่ละช่องรถที่มาส่งครั้งนี้
13. OilType – ประเภทน้ำมัน
14. BranchID – รหัสสาขาที่รับน้ำมัน
15. AlertToleranceExceeded – แจ้งเตือนเมื่อส่วนต่างเกิน % ที่ยอมรับได้","1. เชื่อมกับฟังก์ชั่น “การสั่งซื้อน้ำมัน”
           → ดึง OrderNo, QuantityOrdered, OilType, BranchID, SupplierOrderNo, LegalEntityID มาแสดงอัตโนมัติ
           → ใช้จับคู่ใบสั่งซื้อกับใบรับน้ำมัน (ต้องตรง OrderNo หรือ SupplierOrderNo)

2. เชื่อมกับโมดูลสต็อกน้ำมันและสมุดบัญชี
           → อัปเดตยอดรับเข้า QuantityReceived ลง “สมุดน้ำมันลงหลุม” ทันทีที่บันทึก
           → คำนวณ Gain/Loss (DifferenceLiter) และบันทึกลงสมุดส่วนต่างน้ำมัน
           → อัปเดตสต็อกคงเหลือใต้ดินในระบบทันที

3. เชื่อมกับระบบ Back Office ปตท.
           → คีย์ยอดรับน้ำมัน (QuantityReceived) เข้าระบบ Back Office ปตท. ของสาขานั้น ๆ
           → ดึงใบส่งของอิเล็กทรอนิกส์ (e-Delivery Note) หรือใบกำกับภาษีจากระบบ ปตท. มาแนบอัตโนมัติ

4. เชื่อมกับโมดูลบัญชีและการเงิน
           → ตั้งหนี้เจ้าหนี้ ปตท. ตามมูลค่ายอดรับจริง (QuantityReceived × ราคาวันนั้น)
           → บันทึกบัญชีซื้อน้ำมันและภาษีซื้อ
           → ถ้ามีส่วนต่างเกินเกณฑ์ → ตั้งหนี้/ลูกหนี้เพิ่มตามนโยบาย

5. เชื่อมกับโมดูลลูกหนี้ระหว่างสาขา (ถ้าเป็นการส่งระหว่างสาขา)
           → ถ้า IsInterbranch = True → ตัดยอดลูกหนี้สาขาที่รับน้ำมันทันที
           → บันทึกเป็น “ขายระหว่างกัน” ให้สาขาใหญ่

6. เชื่อมกับโมดูลตรวจสอบคุณภาพน้ำมัน
           → บันทึกค่า APICheck และเปรียบเทียบกับเกณฑ์ที่กำหนด
           → ถ้าค่า API ผิดปกติ → แจ้งเตือนและล็อกไม่ให้บันทึกจนกว่าจะใส่เหตุผล

7. เชื่อมกับโมดูลแจ้งเตือน (Notification)
           → แจ้ง Line Group “รับน้ำมัน” และคุณนิดเมื่อ:
                      รับน้ำมันเรียบร้อยแล้ว
                      ส่วนต่างเกิน % ที่กำหนด (เช่น ±0.3%)
                      ค่า API ผิดปกติ
                      รับไม่ตรงใบสั่งซื้อ

8. เชื่อมกับโมดูลเอกสารและไฟล์แนบ
           → บังคับแนบรูปถ่าย: ใบส่งของ ปตท., มิเตอร์รถ, ใบวัด API, ทะเบียนรถ
           → เก็บไฟล์ PDF/รูปภาพไว้ในระบบตาม OrderNo

9. เชื่อมกับโมดูลประวัติและ Audit Log
           → บันทึกว่าใคร (ReceiverEmployeeID) รับน้ำมัน เมื่อไหร่ แก้ไขกี่ครั้ง
           → เก็บประวัติส่วนต่างทุกครั้งที่เกิด Gain/Loss

10. เชื่อมกับโมดูลรายงาน
           → ส่งข้อมูลไปแสดงในรายงาน:
                      รายงานรับน้ำมันประจำวัน/เดือน
                      รายงาน Gain/Loss
                      รายงานเปรียบเทียบสั่ง vs รับจริง
                      รายงาน API Check","1. String
           (OilType, GainLossReason, DriverName, TruckLicensePlate, DeliveryNoteNo)

2. Number
           (QuantityOrdered, QuantityReceived, DifferenceLiter, DifferenceAmount, 
           APICheck, TruckCapacityChamber1, TruckCapacityChamber2, TruckCapacityChamber3, 
           TruckCapacityChamber4, TruckCapacityChamber5, TruckCapacityChamber6, 
           TruckCapacityChamber7)

3. Integer
           (BranchID, ReceiverEmployeeID)

4. DateTime
           (ReceiveDateTime)

5. Boolean
           (AlertToleranceExceeded)","1. การวัดค่าน้ำมันขาเข้ามีตรวจสอบค่า API ของน้ำมัน.
2. การคีย์รับน้ำมันเข้าระบบ Back Office มีโอกาสไม่ตรงกับที่สั่ง แต่%ความคาดเคลื่อนน้อย.
3. ใบขนส่งจากปตท.ต้องคำนวณ VAT เอง.
4. ใบกำกับภาษีมาจากเว็บคล้ายของดีแท็ก ที่ปตท.ให้สมัครเพื่อโหลดใบกำกับภาษี ตามใบสั่งสินค้า ตามปั๊มที่สั่ง.
5. ระบบปตท.มีให้แค่ส่วนภาษีขาย ภาษีซื้อเป็นการจัดทำขึ้นเอง.
6. รองรับการนำเข้าข้อมูลจากไฟล์ Excel ของระบบหลังบ้าน ปตท.
7. มีการตรวจสอบคุณภาพน้ำมันโดยดูค่า API ก่อนรับน้ำมันเข้า (ถ้าค่า API ไม่ผ่านเกณฑ์ จะปฏิเสธการรับน้ำมัน).
8. กรณีรับน้ำมันแล้วพบว่าปริมาณไม่ตรงกับที่สั่ง (ขาด/เกิน) ต้องทำรายงานส่วนต่างและแจ้งปตท.เพื่อเคลม (แต่ส่วนมากความคลาดเคลื่อนน้อยมาก ไม่เกิน 0.1-0.3%).
9. หลังรับน้ำมันแล้วต้องลงสมุดใต้ดินทันที โดยใช้ข้อมูลจากใบขนส่ง + ผลการวัดจริง.
10. ต้องมีการเซ็นรับใบขนส่งโดยผู้รับผิดชอบ (หัวหน้าปั๊มหรือผู้จัดการ) และเก็บเอกสารไว้ตรวจสอบย้อนหลัง
11. % ความคาดเคลื่อนที่ยอมรับได้ ปัจจุบันมีแค่คำว่า “%ความคาดเคลื่อนน้อย” → ต้องระบุตัวเลขชัดเจน เช่น ยอมรับได้ไม่เกิน ±0.3% หรือ ±0.5% หรือเท่าไหร่ , ถ้าเกินเปอร์เซ็นต์นี้ ระบบต้องทำอะไร (แจ้งเตือน / บังคับบันทึกเหตุผล / ล็อกไม่ให้ผ่านได้)
12. การบันทึกส่วนต่าง (Gain/Loss) เมื่อรับจริง ≠ สั่งซื้อ → ส่วนต่างนี้ต้องบันทึกที่ไหน และเรียกว่าอะไร → ปัจจุบันยังไม่มีฟิลด์สำหรับ “ส่วนต่างลิตร” และ “มูลค่าส่วนต่าง”




",,
,3. การชำระเงินซื้อน้ำมัน,"1. ระบบรวบรวมใบกำกับภาษีที่ต้องจ่ายวันนี้
          - ทุกเช้า 08:00 น. ระบบดึงใบกำกับภาษี ปตท. ที่ครบกำหนดใน 7 วันข้างหน้า แยกตาม
             นิติบุคคล 5 ห้าง
2. บัญชีตรวจสอบยอดกับสมุดซื้อน้ำมัน
          - เช็คว่าใบกำกับทุกใบจับคู่กับการรับน้ำมันครบแล้ว (Delivery Note + QuantityReceived)
          - ถ้ายังไม่มี → ขึ้นสถานะ “รอจับคู่” สีส้ม
3. คุณนิดอนุมัติรายการจ่าย
          - เข้าเมนู “รอชำระน้ำมัน” → เห็นตารางสรุป
                      - เลขที่ใบกำกับ
                      - วันที่ครบชำระ
                      - ยอดเงินเต็ม (รวม VAT)
                      - ส่วนลด 1–2% (ถ้ามี)
                      - ยอดสุทธิที่ต้องโอน
                         - คุณนิดติ๊กถูก + กด “อนุมัติจ่าย”

4. เลือกวิธีจ่ายเงิน
          - เลือกได้ 3 แบบ
                     - โอนผ่านธนาคาร (BAHTNET / Smart Credit)
                      - QR PromptPay (ไม่เกิน 5 ล้าน/รายการ)
                      - หักกลบกับเครดิตส่วนลด ปตท. (ถ้ามี)

5. Export ไฟล์หรือสร้าง QR สำหรับโอน
          - ระบบสร้างไฟล์ BAHTNET หรือ QR พร้อมยอดสุทธิอัตโนมัติ
          - แยกไฟล์ตามธนาคาร (กรุงเทพ / กสิกร / ไทยพาณิชย์ ฯลฯ)

6. บัญชีทำรายการโอนจริงใน Mobile Banking
          - โอนตามไฟล์/QR → ถ่ายสลิป → อัปโหลดสลิปในระบบทันที

7. กด “ยืนยันการชำระแล้ว”
          - บัญชีกรอก
                      - วันที่โอนจริง
                      - เลขที่อ้างอิงธนาคาร
                      - แนบสลิป
          - ระบบเปลี่ยนสถานะใบกำกับเป็น “ชำระแล้ว” สีเขียว

8. ระบบทำงานอัตโนมัติทันที
          - ตัดสถานะในสมุดซื้อน้ำมันเป็น “ชำระแล้ว”
          - บันทึกบัญชีจ่ายเงิน + หักส่วนลด (ถ้ามี)
          - ตัดเจ้าหนี้ ปตท.
          - อัปเดต Aging เจ้าหนี้
          - ส่ง Line Group “ชำระเงินน้ำมัน” + คุณนิด
            “ชำระใบกำกับ ปตท. เลขที่ … รวม X,XXX,XXX บาท เรียบร้อยแล้ว”

9. กรณีจ่ายไม่เต็มหรือจ่ายล่วงหน้า
          - บัญชีใส่ยอดจ่ายจริง → ระบบแบ่งเป็น
                      - ชำระบางส่วน → เหลือเจ้าหนี้ต่อ
                      - จ่ายเกิน → เกิด “ลูกหนี้ล่วงหน้า ปตท.” อัตโนมัติ

10. สิ้นวัน/สิ้นเดือน ออกรายงานสรุป
          - ปุ่มเดียวได้เลย
                      - รายงานการชำระเงินน้ำมันประจำวัน/เดือน
                      - สรุปภาษีซื้อน้ำมัน
                      - Aging เจ้าหนี้ ปตท.
                      - ไฟล์ส่งสำนักงานบัญชี",,,,,,,"1. เชื่อมกับฟังก์ชั่น “การรับน้ำมัน”
           → ดึง OrderNo, DeliveryNoteNo, QuantityReceived, มูลค่ารับจริง, ใบกำกับภาษีเลขที่, LegalEntityID 
                มาเป็นฐานสร้างรายการจ่ายอัตโนมัติ

2. เชื่อมกับฟังก์ชั่น “การสั่งซื้อน้ำมัน”
           → ดึง SupplierOrderNo, QuantityOrdered, ราคาวันสั่ง, LegalEntityID มาเปรียบเทียบกับใบแจ้งหนี้ ปตท.

3. เชื่อมกับโมดูลเจ้าหนี้การค้า (Accounts Payable)
           → สร้างใบสำคัญจ่าย (Payment Voucher) อัตโนมัติตามนิติบุคคลแต่ละห้าง
           → ตั้งหนี้ตามยอดใบกำกับเต็มจำนวน (ไม่หักส่วนลดล่วงหน้า)

4. เชื่อมกับโมดูลบัญชีและการเงิน
           → บันทึกบัญชีจ่ายเงินซื้อน้ำมัน + ภาษีซื้อ + หักส่วนลดทันที
           → อัปเดตงบดุลและกำไร-ขาดทุนเรียลไทม์

5. เชื่อมกับระบบธนาคารออนไลน์
           → Export ไฟล์ BAHTNET / Smart Credit / QR PromptPay
           → รองรับจ่ายเต็มจำนวนหรือแบ่งจ่ายบางส่วน

6. เชื่อมกับระบบ e-Tax Invoice ปตท.
           → ดึงใบกำกับภาษีอิเล็กทรอนิกส์ (XML + PDF) อัตโนมัติตามเลขที่ใบส่งของ
           → จับคู่ใบกำกับกับใบรับน้ำมัน 100%

7. เชื่อมกับโมดูลภาษีซื้อ (Input VAT)
           → บันทึกภาษีซื้อเต็มตามใบกำกับ (ไม่ใช่ตามยอดจ่ายจริง)
           → แยกภาษีซื้อตามนิติบุคคลชัดเจนสำหรับยื่น VAT

8. เชื่อมกับโมดูลลูกหนี้ระหว่างสาขา
           → ถ้าเป็นการส่งน้ำมันระหว่างสาขา → ตัดยอดลูกหนี้สาขาที่รับน้ำมันทันทีที่จ่ายเงิน

9. เชื่อมกับโมดูลแจ้งเตือน (Notification)
           → แจ้ง Line Group “ชำระเงินน้ำมัน” + คุณนิด + บัญชี เมื่อ:
                      มีใบกำกับใหม่เข้ามา
                      ใกล้ครบกำหนดชำระ 3 วัน/1 วัน
                      ชำระเงินสำเร็จ
                      จ่ายไม่ตรงใบกำกับ

10. เชื่อมกับโมดูลรายงานและ Audit Log
           → เก็บหลักฐานถาวร: ใบกำกับภาษี, สลิปโอนเงิน, ไฟล์ BAHTNET
           → บันทึกประวัติว่าใครอนุมัติจ่าย วันไหน จ่ายเท่าไหร่
           → ส่งข้อมูลไปรายงาน Aging เจ้าหนี้, สรุปการชำระเงินน้ำมัน, ภาษีซื้อแยกห้าง",, ,,
,4. การขายน้ำมัน,"1. ลูกค้ามาเติม → พนักงานกดเริ่มบิลใน POS
          - เลือกหัวจ่ายที่ลูกค้าใช้ (หรือสแกน QR หัวจ่าย) → ระบบล็อกหัวจ่ายนั้นทันที

2. เลือกประเภทน้ำมัน + จำนวน/มูลค่า
          - แบบเต็มถัง → กด “เต็มถัง”
          - แบบระบุลิตร → ใส่จำนวนลิตร
          - แบบระบุเงิน → ใส่จำนวนบาท
          - ระบบแสดงราคาต่อลิตรวันนี้ให้เลย

3. เลือกวิธีชำระเงิน (เลือกได้หลายแบบในบิลเดียว)
          - เงินสด
          - QR PromptPay
          - บัตรเครดิต/เดบิต
          - Fleet Card ปตท.
          - บัตรน้ำมันบริษัท
          - คูปอง/บัตรส่วนลด
          - ลูกหนี้การ์ด (เซ็นชื่อ)

4. พนักงานกด “ปล่อยน้ำมัน”
          - หัวจ่ายปล่อยจริง → ระบบนับลิตรและเงินเรียลไทม์

5. เติมเสร็จ → พนักงานกด “หยุด” หรือหัวจ่ายหยุดเอง
          - ระบบล็อกยอดทันที → แสดงยอดสุดท้าย (ลิตร + บาท)

6. รับเงิน + ทอนเงิน (ถ้ามี)
          - พนักงานรับเงินจริง → กด “รับเงิน” → ระบบคำนวณเงินทอน + พิมพ์ใบเสร็จอัตโนมัติ

7. ระบบบันทึกและตัดสต็อกอัตโนมัติทันที
          - ตัดยอดออกจากสมุดน้ำมันลงหลุม
          - ตัดยอดออกจากสมุด Balance Petrol
          - บันทึกลงสมุดขายน้ำมัน
          - แยกยอดตามวิธีชำระเงิน
          - คำนวณภาษีขาย 7%

8. กรณีพิเศษที่เกิดบ่อย
          - ลูกค้าเติมผิดประเภท → กด “ยกเลิกบิล” ก่อนบันทึก → ระบบไม่ตัดสต็อก
          - ใช้คูปอง/ส่วนลด → สแกนหรือเลือกคูปอง → ระบบหักส่วนลดให้เลย
          - ลูกหนี้การ์ด → พิมพ์ใบเซ็นชื่อ 2 ชุด + ถ่ายรูปบัตรประชาชน

9. ปิดกะ / ปิดรอบ (ทุก 8 ชม. หรือ 24 ชม.)
          - ผู้จัดการกะกด “ปิดกะ” → ระบบสรุป
                      - ยอดขายรวม
                      - แยกเงินสด / non-cash
                      - ยอดตามประเภทน้ำมัน
                      - จำนวนลิตรที่ขาย
                      - พิมพ์รายงานปิดกะ + ส่ง Line Group “ยอดขาย” อัตโนมัติ

10. ระบบอัปเดตเรียลไทม์ทุกอย่าง
          - แดชบอร์ดผู้บริหารเห็นยอดขายล่าสุดทันที
          - คุณนิดเห็นยอดขายทุกสาขาในหน้าเดียว
          - อัปเดตยอดสต็อกใต้ดินทันที
          - ส่งข้อมูลไปสมุดวัดใต้ดินและคำนวณ Gain/Loss รายวัน",,,,,,,"1. เชื่อมกับระบบ Back Office ปตท. (ทุกสาขา)
           → ดึงยอดขายหัวจ่ายแบบเรียลไทม์ (ทุก ๆ 5–10 นาที) หรือนำเข้าไฟล์ BOR005/BOR006 วันละครั้ง
           → ดึงราคาขายปลีกปัจจุบันของแต่ละประเภทน้ำมันอัตโนมัติ

2. เชื่อมกับโมดูลสต็อกน้ำมันและสมุดบัญชี
           → ตัดยอดขายออกจากสต็อกใต้ดินทันที (QuantitySold)
           → บันทึกลง “สมุดน้ำมันลงหลุม” และ “สมุดขายน้ำมัน” อัตโนมัติ
           → คำนวณ Gain/Loss รายวันเปรียบเทียบกับยอด ATG

3. เชื่อมกับโมดูลเงินสดและการรับเงิน
           → แยกยอดตามประเภทการชำระเงิน: เงินสด, บัตรเครดิต, QR PromptPay, Fleet Card, บัตรน้ำมัน ปตท.,
                คูปอง, ลูกหนี้การ์ด
           → สร้างรายการเงินเข้าแยกตามช่องทางชำระเงินทันที

4. เชื่อมกับโมดูลบัตรเครดิตและ Fleet Card
           → ส่งยอดบัตรเครดิตไปหักค่าธรรมเนียมอัตโนมัติ
           → จับคู่กับรายงานจากธนาคารและ ปตท. Fleet Card

5. เชื่อมกับโมดูลลูกหนี้การ์ดและหนี้สูญ
           → บันทึกยอดขายที่ยังไม่ได้รับเงิน (เช่น บัตรน้ำมัน ปตท., คูปองบริษัท) เป็นลูกหนี้
           → ติดตาม Aging ลูกหนี้การ์ดและตัดหนี้สูญตามนโยบาย

6. เชื่อมกับโมดูลภาษีขาย (Output VAT)
           → คำนวณภาษีขาย 7% จากยอดขายสุทธิอัตโนมัติ
           → แยกภาษีขายตามนิติบุคคลชัดเจน (แต่ละสาขาคือคนละห้าง)

7. เชื่อมกับโมดูลโปรโมชั่นและส่วนลด
           → หักส่วนลดพิเศษ, คูปอง, Happy Pump, Blue Card อัตโนมัติ
           → บันทึกยอดส่วนลดแยกประเภทเพื่อวิเคราะห์

8. เชื่อมกับโมดูลแจ้งเตือน (Notification)
           → แจ้ง Line Group “ยอดขายน้ำมัน” และคุณนิดทุกวันตอนปิดกะ/ปิดรอบ
                      ยอดขายรวมวันนี้
                      ยอดขายแยกหัวจ่าย
                      ยอดเงินสด vs non-cash
                      สต็อกเหลือต่ำกว่าเกณฑ์
                      Gain/Loss เกิน ±0.3%

9. เชื่อมกับโมดูลพนักงานและกะงาน
           → ระบุว่าพนักงานคนไหนรับผิดชอบกะนั้น ๆ
           → คำนวณยอดขายต่อพนักงาน/ต่อกะ เพื่อจ่ายค่าคอมมิชชั่น

10. เชื่อมกับโมดูลรายงานและแดชบอร์ดผู้บริหาร
           → ส่งข้อมูลไปแสดงแบบเรียลไทม์:
                      ยอดขายน้ำมันรายวัน/สัปดาห์/เดือน แยกสาขา-ประเภท
                      เปรียบเทียบยอดขายปีนี้ vs ปีที่แล้ว
                      อันดับสาขาที่ขายดีที่สุด
                      กราฟยอดขายรายชั่วโมง
                      รายงานสำหรับยื่นภาษีขายและสรรพากร",,,,
,5. การจัดการสมุดใต้ดิน 5 ปั๊ม,"1. 16:00–17:30 น.
          - ผู้จัดการ/พนักงาน 5 สาขา → เปิด Back Office ปตท. หรือ ATG → กรอกยอดน้ำมันคงเหลือ
            ทุกหลุมลงระบบเรา

2. ทันทีที่กรอก
          - พนักงานสาขา → ถ่ายรูปหน้าจอ ATG/Back Office (เห็นวันที่ชัดเจน) → อัปโหลดแนบ
          - ระบบ → บังคับต้องมีรูป ไม่งั้นกดบันทึกไม่ได้

3. ทันทีที่กดบันทึก
          - ระบบ → เช็คว่ายอดวันนี้ต่างจากเมื่อวานเกิน 8,000 ลิตรโดยไม่มีรับน้ำมันไหม → ถ้าผิดปกติ 
           บังคับใส่เหตุผล + แจ้งคุณนิดทันที

4. 18:00 น.
          - ระบบ → ตรวจอัตโนมัติว่าครบ 5 สาขาหรือยัง
                      - ถ้ายังไม่ครบ → ส่ง Line ด่วนไปผู้จัดการสาขาที่ยังไม่กรอก + คุณนิด
                      - แดชบอร์ดเปลี่ยนเป็นสีแดงทันที

5. 18:30–19:00 น.
          - คุณนิด → เปิดดูแดชบอร์ดสมุดใต้ดิน → เห็นครบ 5 สาขาแล้ว → ดู Gain/Loss วันนี้

6. ทันทีที่สาขาสุดท้ายกรอกครบ
          - ระบบ → คำนวณ Gain/Loss ทั้ง 5 สาขาทันที
                     - ถ้าเกิน ±0.3% หรือ ±50 ลิตร → สีแดง + ส่ง Line ด่วนไปคุณนิดและผู้จัดการสาขานั้น

7. 19:30 น.
          - ระบบ → ส่งสรุปสมุดใต้ดินทั้ง 5 สาขาไป Line คุณนิดอัตโนมัติ
          - (ข้อความ + รูปยอดล่าสุด + Gain/Loss วันนี้)

8. ตลอด 24 ชม.
          - คุณนิด / บัญชี / ผู้บริหาร → เปิดแดชบอร์ดดูยอดเรียลไทม์ได้เลย
                      - สีเขียว = กรอกแล้วและปกติ
                      - สีเหลือง = กรอกแล้วแต่ Gain/Loss ผิดปกติ
                      - สีแดง = ยังไม่กรอก

9. วันที่ 1 ของเดือนหน้า (อัตโนมัติ)
          - ระบบ → สร้างรายงาน สนง.10 ทั้ง 5 สาขา → Export Excel + PDF → ส่งอีเมลคุณนิดและบัญชีทันที",,,,,,,"1. เชื่อมกับระบบ ATG (Veeder-Root / OPW / Franklin) ของทั้ง 5 สาของทั้ง 5 สาขา
           → ดึงระดับน้ำมัน + อุณหภูมิ + ปริมาณน้ำในหลุมแบบเรียลไทม์ทุก 5–10 นาที
           → ดึงเหตุการณ์ Water Alarm / Low Level Alarm / High Level Alarm

2. เชื่อมกับฟังก์ชั่น “การรับน้ำมัน”
           → นำ QuantityReceived + ReceiveDateTime + OilType มาตัดเข้า “สมุดลงหลุม” อัตโนมัติทันทีที่บันทึกการรับ
           → บันทึกทิ้งร่องรอยว่า “รับจากรถใบส่งของเลขที่อะไร”

3. เชื่อมกับฟังก์ชั่น “การขายน้ำมัน”
           → นำยอดขายจากหัวจ่าย (BOR005/BOR006) มาตัดออกจาก “สมุดลงหลุม” อัตโนมัติทุกรอบปิดกะ
           → แสดงยอดขายเปรียบเทียบกับยอดตัดจาก ATG

4. เชื่อมกับโมดูล Gain/Loss รายวัน
           → คำนวณส่วนต่างรายวันอัตโนมัติ   ยอดเริ่มวัน + รับเข้า – ขายออก – ยอดสิ้นวันจาก ATG = Gain/Loss
           → แจ้งเตือนทันทีถ้าเกิน ±0.3% หรือ ±50 ลิตร

5. เชื่อมกับโมดูลแจ้งเตือน (Notification)
           → แจ้ง Line Group “สมุดใต้ดิน” + คุณนิด + ผู้จัดการสาขา เมื่อเกิดเหตุการณ์:
                      Gain/Loss เกินเกณฑ์
                      มีน้ำในหลุมเกิน 2 นิ้ว
                      ระดับน้ำมันต่ำกว่า 20%
                      ATG ขาดการเชื่อมต่อเกิน 1 ชม.

6. เชื่อมกับโมดูลบัญชีและสต็อก
           → ส่งยอดสิ้นงวดไปเป็น “สินค้าคงเหลือปลายงวด” ในงบดุลของแต่ละนิติบุคคล
           → ใช้คำนวณต้นทุนขายน้ำมัน (COGS) แบบ FIFO หรือ Average

7. เชื่อมกับโมดูลตรวจสอบคุณภาพน้ำมัน
           → บันทึกเหตุการณ์การเจอน้ำหรือสิ่งปนเปื้อนในหลุม
           → ล็อกไม่ให้ขายหัวจ่ายที่หลุมนั้นจนกว่าจะเคลียร์

8. เชื่อมกับโมดูลรายงานสรรพากรและ ปตท.
           → สร้างรายงานสมุดใต้ดินรายเดือน (แบบ สนง.10) อัตโนมัติ
           → Export ไฟล์สำหรับยื่นภาษีสรรพสามิตและ ปตท. Audit

9. เชื่อมกับโมดูลประวัติและ Audit Log
           → เก็บประวัติสมุดใต้ดินถาวรทุกวัน (ไม่สามารถแก้ไขย้อนหลังได้ ยกเว้นผู้มีสิทธิ์สูงสุด + ต้องระบุเหตุผล)

10. เชื่อมกับแดชบอร์ดผู้บริหารแบบเรียลไทม์
           → แสดงภาพรวมทั้ง 5 สาขาในหน้าเดียว:
                      ระดับน้ำมันแต่ละหลุม (สีเขียว/เหลือง/แดง)
                      Gain/Loss สะสมรายเดือน
                      ปริมาณน้ำในหลุม
                      สถานะการเชื่อมต่อ ATG",,,,
,6. การจัดการสมุดน้ำมันใต้ดิน,"1. 16:00–17:30 น.
          - ผู้จัดการหรือพนักงานที่ได้รับมอบหมายของแต่ละสาขา
                      - เปิด Back Office ปตท. หรือหน้าจอ ATG
                      - วัด/ดูยอดน้ำมันคงเหลือทุกหลุม
                      - กรอกยอดลงในแอป/เว็บของเรา แยกหลุม + แยกประเภทน้ำมัน

2. ทันทีที่กรอก
          - พนักงานสาขา
                      - ถ่ายรูปหน้าจอให้เห็นวันที่ + ยอดชัดเจน
                      - อัปโหลดรูปแนบ (บังคับอย่างน้อย 1 รูปต่อหลุม)

3. ทันทีที่กดบันทึก
          - ระบบ
                      - เช็คความสมเหตุสมผล (ต่างจากเมื่อวานเกิน 8,000 ลิตรโดยไม่มีรับน้ำมันไหม)
                      - ถ้าผิดปกติ → บังคับใส่เหตุผล + แจ้งคุณนิดทันที

4. 18:00 น.
          - ระบบอัตโนมัติ
                      - สแกนว่าครบ 5 สาขาหรือยัง
                      - ถ้ายังไม่ครบ → ส่ง Line ด่วนไปผู้จัดการสาขาที่ยังไม่กรอก + คุณนิด
                      - แดชบอร์ดเปลี่ยนเป็นสีแดง

5. 18:30–19:00 น.
          - คุณนิด
                      - เปิดแดชบอร์ดสมุดใต้ดิน
                      - เห็นยอดครบ 5 สาขา + Gain/Loss วันนี้เลย

6. ทันทีที่ครบ 5 สาขา
          - ระบบอัตโนมัติ
                      - คำนวณ Gain/Loss ทั้ง 5 สาขาทันที
                      - ถ้าเกิน ±0.3% หรือ ±50 ลิตร → สีแดง + ส่ง Line ด่วนไปคุณนิดและผู้จัดการสาขานั้น

7. 19:30 น.
          - ระบบอัตโนมัติ
                      - ส่งสรุปสมุดใต้ดินทั้ง 5 สาขาไป Line คุณนิดทุกวัน
                      - (มีข้อความ + รูปล่าสุด + Gain/Loss + สถานะสี)

8. ตลอด 24 ชั่วโมง
          - ทุกคนที่มีสิทธิ์
                     - เปิดดูแดชบอร์ดสมุดใต้ดินได้เลย
                                  - สีเขียว = กรอกแล้ว + ปกติ
                                  - สีเหลือง = กรอกแล้วแต่ Gain/Loss ผิดปกติ
                                  - สีแดง = ยังไม่กรอก

9. วันที่ 1 ของทุกเดือน (อัตโนมัติ)
          - ระบบ
                      - สร้างรายงาน สนง.10 (สมุดใต้ดิน) ทั้ง 5 สาขา
                      - Export Excel + PDF พร้อมส่งอีเมลคุณนิดและบัญชีทันที",,,,,,,"1. เชื่อมกับการกรอกยอดน้ำมันใต้ดินด้วยมือจากพนักงานแต่ละสาขา
           → ทุกวันเวลา 16:00–17:00 น. ผู้จัดการหรือพนักงานที่ได้รับมอบหมายของทั้ง 5 สาขา กรอกยอดคงเหลือจริงใต้ดิน 
                (ตามที่เห็นในหน้าจอ Back Office ปตท. หรือ ATG) เข้ามาด้วยมือ
           → บังคับแนบรูปถ่ายหน้าจอเป็นหลักฐานทุกครั้ง

2. เชื่อมกับฟังก์ชั่น “การรับน้ำมัน”
           → ดึง QuantityReceived + ReceiveDateTime + DeliveryNoteNo + OilType + TruckChamber มาตัดเข้า 
                “สมุดลงหลุม” อัตโนมัติทันทีที่บันทึกการรับน้ำมัน

3. เชื่อมกับฟังก์ชั่น “การขายน้ำมัน”
           → ดึงยอดขายจากหัวจ่าย (นำเข้าจากไฟล์ Excel BOR005/BOR006 ที่อัปโหลดทุกวัน) มาตัดออกจากสมุด
                อัตโนมัติทุกรอบปิดวัน

4. เชื่อมกับโมดูลคำนวณ Gain/Loss อัตโนมัติ
           → สูตร: ยอดเปิดวัน (จากยอดกรอกมือเมื่อวาน) + รับเข้า – ขายออก – ยอดปิดวัน (จากยอดกรอกมือวันนี้) = Gain/Loss
           → แสดงผลรายวัน รายหลุม รายสาขา รายเดือน

5. เชื่อมกับโมดูลแจ้งเตือน (Notification)
           → ส่ง Line Group “สมุดใต้ดิน” + คุณนิด + ผู้จัดการสาขาทันทีเมื่อ:
                      • Gain/Loss เกิน ±0.3% หรือ ±50 ลิตร
                      • ยังไม่มีสาขาไหนยังไม่กรอกยอดภายใน 18:00 น.
                      • ผู้จัดการสาขากรอกยอดต่างจากเมื่อวานเกิน 10,000 ลิตรโดยไม่มีรับน้ำมัน

6. เชื่อมกับโมดูลบัญชีและสินค้าคงคลัง
           → ใช้ยอดที่พนักงานกรอกเป็น “สินค้าคงเหลือน้ำมันใต้ดินปลายวัน” ในงบดุลแต่ละนิติบุคคล
           → ใช้คำนวณต้นทุนขายน้ำมัน (COGS) แบบ Moving Average

7. เชื่อมกับโมดูลตรวจสอบความผิดปกติ
           → แจ้งเตือนทันทีถ้ายอดกรอกมือวันนี้ต่ำ/สูงกว่าที่ระบบคาดการณ์ไว้มาก
           → บังคับใส่เหตุผล + แนบรูปถ่ายเพิ่มเติมหาก Gain/Loss เกินเกณฑ์

8. เชื่อมกับระบบ Back Office ปตท. และกรมสรรพสามิต (ทางอ้อม)
           → ใช้ยอดที่กรอกมือ + รับ + ขาย สร้างรายงานสมุดใต้ดิน (แบบ สนง.10) อัตโนมัติทุกเดือน
           → Export ไฟล์ Excel สำหรับยื่นสรรพสามิตและให้ ปตท. Audit

9. เชื่อมกับโมดูล Audit Log แบบถาวร
           → บันทึกทุกครั้งที่มีการกรอกยอดด้วยมือ ว่าใครกรอก เมื่อไหร่ ยอดเท่าไหร่ แนบรูปอะไร
           → ทุกการรับ ทุกการขาย ทุก Gain/Loss เก็บถาวร ไม่สามารถแก้ไขย้อนหลังได้ ยกเว้นคุณนิด + บัญชีกลาง พร้อมเหตุผล

10. เชื่อมกับแดชบอร์ดผู้บริหาร
           → หน้าเดียวเห็นทั้ง 5 สาขา:
                      • ยอดล่าสุดที่พนักงานกรอก (เวลาไหน
                      • สีสถานะ (เขียว = กรอกแล้ว / แดง = ยังไม่กรอก / เหลือง = กรอกแต่ผิดปกติ)
                      • Gain/Loss สะสมเดือนนี้
                      • ปริมาณที่รับเข้า–ขายออกวันนี้",,,,
,7. การจัดการสมุดวัดน้ำมันใต้ดิน,"1. 16:00–17:30 น.
          - ผู้จัดการหรือพนักงาน 5 สาขา
                      - เปิด Back Office ปตท. หรือหน้าจอ ATG
                      - วัด/ดูยอดน้ำมันจริงทุกหลุม
                      - กรอกยอดลงระบบเรา แยกหลุม + แยกประเภทน้ำมัน (Diesel, 91, 95, E20 ฯลฯ)

2. ทันทีที่กรอก
          - พนักงานสาขา
                      - ถ่ายรูปหน้าจอให้เห็นวันที่ + ยอดชัด ๆ
                      - อัปโหลดรูปแนบ (บังคับ อย่างน้อย 1 รูปต่อหลุม)

3. ทันทีที่กดบันทึก
          - ระบบ
                      - เช็คว่าผิดปกติไหม (ต่างจากเมื่อวานเกิน 8,000 ลิตรโดยไม่มีรับน้ำมัน)
                      - ถ้าผิดปกติ → บังคับใส่เหตุผล + ส่งแจ้งเตือนคุณนิดทันที

4. 18:00 น.
          - ระบบอัตโนมัติ
                      - สแกนว่าครบ 5 สาขาหรือยัง
                      - ถ้ายังไม่ครบ → ส่ง Line ด่วนไปผู้จัดการสาขาที่ยังไม่กรอก + คุณนิด
                      - แดชบอร์ดขึ้นสีแดงทันที

5. 18:30–19:00 น.
          - คุณนิด
                      - เปิดหน้า “สมุดวัดน้ำมันใต้ดิน”
                      - เห็นยอดครบทั้ง 5 สาขา + Gain/Loss วันนี้ทันที

6. ทันทีที่ครบ 5 สาขา
          - ระบบอัตโนมัติ
                      - คำนวณ Gain/Loss ทุกหลุม ทุกสาขาทันที
                      - ถ้าเกิน ±0.3% หรือ ±50 ลิตร → สีแดง + ส่ง Line ด่วนไปคุณนิดและผู้จัดการสาขานั้น

7. 19:30 น.
          - ระบบอัตโนมัติ
                      - ส่งสรุปสมุดวัดทั้ง 5 สาขาไป Line คุณนิดทุกวันละครั้ง
                      - (ข้อความ + รูปล่าสุด + Gain/Loss + สีสถานะ)

8. ตลอด 24 ชม.
          - ทุกคนที่มีสิทธิ์
                      - เปิดดูได้เลย เห็นสถานะสี
                                    - เขียว = กรอกแล้ว + ปกติ
                                    - เหลือง = กรอกแล้วแต่ Gain/Loss ผิดปกติ
                                    - แดง = ยังไม่กรอก

9. วันที่ 1 ของทุกเดือน (อัตโนมัติ)
          - ระบบ
                      - สร้างรายงาน “สมุดวัดน้ำมันใต้ดิน (สนง.10)” ทั้ง 5 สาขา
                      - Export Excel + PDF ส่งอีเมลคุณนิดและบัญชีทันที",,,,,,,"1. เชื่อมกับการกรอกยอดวัดน้ำมันใต้ดินด้วยมือจากพนักงาน 5 สาขา
           → ทุกวันเวลา 16:00–17:30 น. ผู้จัดการหรือผู้ได้รับมอบหมายของแต่ละสาขา กรอกยอดวัดจริง (ลิตร) แยกตาม
                หลุมและประเภทน้ำมัน ตามที่เห็นในหน้าจอ Back Office ปตท. หรือ ATG
           → บังคับแนบรูปถ่ายหน้าจอ ATG / Back Office ทุกครั้งเป็นหลักฐาน

2. เชื่อมกับฟังก์ชั่น “การรับน้ำมัน”
           → ดึง QuantityReceived + ReceiveDateTime + OilType + DeliveryNoteNo มาตัดเข้า “สมุดวัดใต้ดิน” 
                อัตโนมัติทันทีที่บันทึกการรับ

3. เชื่อมกับฟังก์ชั่น “การขายน้ำมัน”
           → ดึงยอดขายจากไฟล์ Excel BOR005/BOR006 ที่อัปโหลดทุกวัน มาตัดออกจากสมุดวัดอัตโนมัติทุกรอบปิดวัน

4. เชื่อมกับโมดูลคำนวณ Gain/Loss อัตโนมัติ
           → สูตร: ยอดเปิดวัน (จากยอดกรอกมือเมื่อวาน) + รับเข้า – ขายออก – ยอดปิดวัน (จากยอดกรอกมือวันนี้) = Gain/Loss
           → แสดงผลรายวัน รายหลุม รายสาขา รายเดือน

5. เชื่อมกับโมดูลแจ้งเตือน (Notification)
           → ส่ง Line Group “สมุดวัดใต้ดิน” + คุณนิด + ผู้จัดการสาขาทันทีเมื่อ:
                      • ยังไม่มีสาขาใดกรอกยอดภายใน 18:00 น.
                      • Gain/Loss เกิน ±0.3% หรือ ±50 ลิตร
                      • ยอดกรอกวันนี้ต่างจากเมื่อวานเกิน 8,000 ลิตรโดยไม่มีรับน้ำมัน

6. เชื่อมกับโมดูลบัญชีและสินค้าคงคลัง
           → ใช้ยอดที่พนักงานกรอกเป็น “สินค้าคงเหลือน้ำมันใต้ดินปลายวัน” ในงบดุลแต่ละนิติบุคคล
           → ใช้คำนวณต้นทุนขายน้ำมัน (COGS) แบบ Moving Average

7. เชื่อมกับโมดูลตรวจสอบความถูกต้อง
           → เปรียบเทียบยอดกรอกมือกับยอดคาดการณ์ของระบบ ถ้าต่างกันมาก บังคับใส่เหตุผล + แนบรูปเพิ่ม

8. เชื่อมกับรายงานกรมสรรพสามิตและ ปตท. Audit
           → สร้างรายงานสมุดวัดน้ำมันใต้ดิน (แบบ สนง.10) อัตโนมัติทุกเดือน
           → Export ไฟล์ Excel พร้อมรูปถ่ายหลักฐานทุกวัน

9. เชื่อมกับโมดูล Audit Log ถาวร
           → บันทึกทุกครั้งที่มีการกรอกยอด: ใครกรอก, เมื่อไหร่, ยอดเท่าไหร่, แนบรูปอะไร
           → เก็บประวัติการรับ-ขาย-Gain/Loss ถาวร ไม่แก้ไขย้อนหลังได้ (ยกเว้นคุณนิด + บัญชีกลาง พร้อมเหตุผล)

10. เชื่อมกับแดชบอร์ดผู้บริหาร
           → หน้าเดียวเห็นสถานะทั้ง 5 สาขา:
                      • สาขาไหนกรอกแล้วบ้าง (สีเขียว/แดง)
                      • เวลาที่กรอกล่าสุด
                      • ยอดน้ำมันคงเหลือแต่ละหลุม
                      • Gain/Loss วันนี้และสะสมเดือนนี้
                      • รูปถ่ายหลักฐานล่าสุด",,,,
,8. การจัดการสมุดตั้งพัก,"1. ทันทีที่คุณนิดกด “อนุมัติ” ใบสั่งซื้อน้ำมัน
          - ระบบ → สร้างรายการใน “สมุดตั้งพัก” อัตโนมัติ
          - แสดง: OrderNo, สาขา, นิติบุคคล, ประเภทน้ำมัน, จำนวนที่สั่ง, วันที่สั่ง, วันที่คาดรับ

2. ทุกเช้า 08:00 น.
          - ระบบ → ส่ง Line คุณนิด + บัญชี
          - “สรุปตั้งพักค้างรับวันนี้”
                      - มีกี่ใบ
                      - รวมกี่ลิตร
                      - ค้างรับเกิน 2 วันมีกี่ใบ (สีแดง)

3. เมื่อรถน้ำมันมาส่งจริง
          - พนักงานที่รับน้ำมัน → เปิดใบรับน้ำมัน → เลือก OrderNo ที่ตรงกับสมุดตั้งพัก
                      - ระบบดึงข้อมูลตั้งพักมาให้อัตโนมัติ (จำนวนที่สั่ง, นิติบุคคล, ราคา)

4. หลังบันทึกการรับน้ำมันเรียบร้อย
          - ระบบ → ตัดยอดออกจากสมุดตั้งพักอัตโนมัติ
                      - ถ้ารับครบ → สถานะ “รับครบ” สีเขียว
                      - ถ้ารับไม่ครบ → เหลือยอดค้างในตั้งพัก + สีเหลือง + แจ้งคุณนิดทันที
                      - ถ้าเกิน → แจ้งเตือน “รับเกินใบสั่ง”

5. 18:00 น. ทุกวัน
          - ระบบ → สแกนสมุดตั้งพัก
                      - ถ้ามีใบไหนค้างรับเกิน 3 วัน → สีแดง + ส่ง Line ด่วนไปคุณนิด
                      - ถ้าค้างเกิน 7 วัน → ส่งซ้ำ + แจ้งผู้จัดการสาขานั้นด้วย

6. คุณนิดเช็คสมุดตั้งพักทุกเย็น
          - เปิดหน้า “สมุดตั้งพัก” → เห็นตารางเดียว
                      - ใบไหนค้างรับนานสุด
                      - สาขาไหนค้างเยอะสุด
                      - รวมยอดตั้งพักวันนี้กี่ลิตร/กี่บาท

7. กรณีต้องยกเลิกหรือแก้ไขใบสั่ง
          - คุณนิดเท่านั้นที่แก้ได้
                      - ใส่เหตุผล + แนบหลักฐาน → ระบบบันทึก Audit Log ทันที

8. สิ้นเดือนอัตโนมัติ
          - ระบบ → สรุป “ตั้งพักปลายเดือน” แยก 5 นิติบุคคล
                      - Export Excel ส่งบัญชีเพื่อตัดยอดสินทรัพย์หมุนเวียนในงบดุล

9. แดชบอร์ดเรียลไทม์
          - หน้าเดียวเห็นทั้งหมดตลอด 24 ชม.
                      - ยอดตั้งพักรวมวันนี้
                      - ใบค้างรับ >3 วัน (สีแดง)
                      - ใบค้างรับ 1–2 วัน (สีเหลือง)
                      - ใบที่รับครบแล้ววันนี้",,,,,,,"1. เชื่อมกับฟังก์ชั่น “การสั่งซื้อน้ำมัน”
           → ดึง OrderNo + QuantityOrdered + OilType + BranchID + LegalEntityID + SupplierOrderNo มาตั้ง
                เป็นรายการ “ตั้งพักรอรับ” อัตโนมัติทันทีที่คุณนิดกดอนุมัติใบสั่งซื้อ

2. เชื่อมกับฟังก์ชั่น “การรับน้ำมัน”
           → เมื่อบันทึกการรับน้ำมัน → ระบบตัดยอด QuantityReceived ออกจากสมุดตั้งพักของ OrderNo นั้นอัตโนมัติ
           → ถ้ารับไม่ครบ → คงเหลือเป็น “ตั้งพักค้างรับ” และแจ้งเตือน

3. เชื่อมกับโมดูลเจ้าหนี้การค้า (Accounts Payable)
           → ยอดที่ยังค้างอยู่ในสมุดตั้งพัก → ยังไม่ตั้งหนี้เจ้าหนี้ ปตท.
           → ตั้งหนี้เฉพาะยอดที่รับจริงแล้วเท่านั้น

4. เชื่อมกับโมดูลบัญชีและการเงิน
           → ยอดในสมุดตั้งพัก = สินทรัพย์หมุนเวียน “น้ำมันรอรับ” ในงบดุลแต่ละนิติบุคคล
           → เมื่อรับครบ → ตัดออกจากตั้งพัก → เข้าสินค้าคงเหลือใต้ดินทันที

5. เชื่อมกับโมดูลแจ้งเตือน (Notification)
           → ส่ง Line Group “ตั้งพัก” + คุณนิด + บัญชี เมื่อ:
                      • มีใบสั่งซื้อค้างรับเกิน 2 วัน
                      • รับน้ำมันไม่ครบตามใบสั่ง (เช่น สั่ง 20,000 ลิตร แต่รับมา 19,200 ลิตร)
                      • มีตั้งพักค้างมานานเกิน 7 วัน

6. เชื่อมกับโมดูลรายงานผู้บริหาร
           → แสดงแดชบอร์ด “ตั้งพักค้างรับ” แยกสาขา-นิติบุคคล-ประเภทน้ำมัน
           → รายงานสรุปตั้งพักปลายเดือนอัตโนมัติ

7. เชื่อมกับโมดูลภาษีซื้อ (Input VAT)
           → ภาษีซื้อจะบันทึกเฉพาะยอดที่รับจริงและออกจากสมุดตั้งพักแล้วเท่านั้น
           → ยอดตั้งพักยังไม่นำมาคิดภาษีซื้อ

8. เชื่อมกับระบบ e-Tax Invoice ปตท.
           → ใช้ OrderNo จากสมุดตั้งพักไปจับคู่กับใบกำกับภาษีอิเล็กทรอนิกส์ที่โหลดมา
           → ถ้ายังค้างในตั้งพัก → แสดงสถานะ “รอใบกำกับ”

9. เชื่อมกับโมดูล Audit Log
           → บันทึกทุกเหตุการณ์:
                      • ใครตั้งพัก เมื่อไหร่
                      • รับมาแล้วตัดตั้งพักเท่าไหร่
                      • เหลือค้างเท่าไหร่ ทำไม

10. เชื่อมกับแดชบอร์ดเรียลไทม์
           → หน้าเดียวเห็นสถานะตั้งพักทั้ง 5 สาขา:
                      • ยอดตั้งพักรวมวันนี้
                      • ใบสั่งซื้อไหนค้างรับนานสุด
                      • สีแดง = ค้างเกิน 3 วัน
                      • สีเหลือง = รับไม่ครบ",,,,
,9. การจัดการสมุด Balance Petrol,"1. ทุกครั้งที่มีการรับน้ำมันสำเร็จ
          - ระบบ → เพิ่มยอดรับจริง (QuantityReceived) เข้า Balance Petrol ของสาขานั้น + นิติบุคคลนั้นทันที
          - (แหล่งที่มา: จากสมุดลงหลุม)

2. ทุกครั้งที่มีการขายน้ำมัน (ทั้งหัวจ่ายและขายส่ง)
          - ระบบ → ตัดยอดขายออกจาก Balance Petrol ทันที
          - (แหล่งที่มา: จาก POS + สมุดขายส่ง + ใบฝาก)

3. ทุก 19:00–19:30 น. (หลังครบสมุดวัดใต้ดิน)
          - ระบบ → เปรียบเทียบ Balance Petrol สิ้นวัน กับ ยอดกรอกมือสมุดวัดใต้ดิน
                      - คำนวณส่วนต่างอัตโนมัติ (Balance – ยอดวัด = ส่วนต่างวันนี้)

4. ทันทีที่คำนวณเสร็จ
          - ระบบ
                      - ถ้าส่วนต่างเกิน ±0.3% หรือ ±100 ลิตร → สีแดง + ส่ง Line ด่วนไปคุณนิด + บัญชี + 
                        ผู้จัดการสาขานั้น
                      - ถ้าตรง → สีเขียว + ไม่แจ้งอะไร

5. ทุกเช้า 07:00 น.
          - ระบบ → ส่ง Line คุณนิด
          - “สรุป Balance Petrol เมื่อวาน”
                      - ทั้ง 5 สาขา
                      - ยอด Balance สิ้นวัน
                      - ส่วนต่างวันนี้ (ลิตร + %)
                      - สะสมเดือนนี้

6. คุณนิดเช็ค Balance Petrol ทุกเช้าและเย็น
          - เปิดหน้าเดียว → เห็นตาราง
                      - สาขา | ประเภทน้ำมัน | Balance สิ้นวัน | ยอดวัด | ส่วนต่างวันนี้ | สะสมเดือนนี้ | สถานะสี

7. กรณี Balance ไม่ตรงยอดวัด
          - คุณนิด → กด “สอบส่วนต่าง” → ระบบโชว์
                      - รับมากี่ลิตร
                      - ขายมากี่ลิตร
                      - ใบฝากออก/คืน
                      - ยอดกรอกมือ
                                  - คุณนิดสั่งผู้จัดการสาขาตรวจสอบ + ใส่เหตุผลใน 24 ชม.

8. สิ้นเดือนอัตโนมัติ
          - ระบบ → ล็อกยอด Balance Petrol ปลายเดือน
                      - ใช้เป็น “สินค้าคงเหลือน้ำมัน” ในงบดุลจริงของแต่ละนิติบุคคล
                      - Export รายงาน Balance Petrol เดือนนั้นให้บัญชีทันที

9. แดชบอร์ด Balance Petrol แบบเรียลไทม์
          - คุณนิดเปิดหน้าเดียวเห็นตลอด 24 ชม.
                      - Balance ปัจจุบันทั้ง 5 สาขา
                      - ส่วนต่างวันนี้ (สีเขียว/แดง)
                      - กราฟส่วนต่าง 30 วันย้อนหลัง
                      - ปุ่ม “ดูประวัติการเพิ่ม-ตัดทุกเม็ด”",,,,,,,"1. เชื่อมกับฟังก์ชั่น “การรับน้ำมัน”
           → QuantityReceived + APICheck + DeliveryNoteNo + OilType + BranchID → บันทึกเข้า “สมุด Balance” 
                ทันทีที่รับน้ำมันเสร็จ (เพิ่มยอดบวก)

2. เชื่อมกับฟังก์ชั่น “การขายน้ำมัน”
           → ยอดขายจากไฟล์ BOR005/BOR006 ที่อัปโหลดทุกวัน → ตัดออกจาก “สมุด Balance” อัตโนมัติ (ลดยอด)

3. เชื่อมกับฟังก์ชั่น “สมุดวัดน้ำมันใต้ดิน”
           → ดึงยอดกรอกมือปลายวันของแต่ละสาขามาเปรียบเทียบกับสมุด Balance ทุกวัน
           → คำนวณส่วนต่างอัตโนมัติ (Balance ต้องเท่ากับยอดวัดใต้ดิน ± ค่าเผื่อ 0.3%)

4. เชื่อมกับฟังก์ชั่น “สมุดตั้งพัก”
           → ยอดที่ยังค้างอยู่ในสมุดตั้งพัก → ยังไม่บันทึกเข้า “สมุด Balance”
           → เมื่อตัดตั้งพักแล้ว → เพิ่มเข้า Balance อัตโนมัติ

5. เชื่อมกับโมดูล Gain/Loss สะสม
           → สมุด Balance คือตัวหลักที่ใช้คำนวณ Gain/Loss สะสมทั้งเดือนและทั้งปี
           → แสดงผลรายวัน รายสาขา รายนิติบุคคล

6. เชื่อมกับโมดูลแจ้งเตือน (Notification)
           → ส่ง Line Group “Balance Petrol” + คุณนิด + บัญชีทันทีเมื่อ:
                      • สมุด Balance ไม่ตรงกับยอดวัดใต้ดินเกิน ±0.3% หรือ ±100 ลิตร
                      • มีการแก้ไขยอดในสมุด Balance
                      • Gain/Loss สะสมเกิน ±500 ลิตร

7. เชื่อมกับโมดูลบัญชีและงบการเงิน
           → ยอดในสมุด Balance ปลายวัน = สินค้าคงเหลือน้ำมันในงบดุลจริงของแต่ละนิติบุคคล
           → ใช้เป็นตัวหลักในการปิดงบทุกเดือน

8. เชื่อมกับระบบ Back Office ปตท. (ทางอ้อม)
           → ใช้สมุด Balance เป็นตัวเทียบเคียงกับยอดใน Back Office ปตท. เวลา ปตท. มาออกออดิท
           → Export รายงานสมุด Balance ออกเป็น Excel ให้ ปตท. ตรวจได้ทันที

9. เชื่อมกับโมดูล Audit Log ถาวร
           → ทุกการเพิ่ม-ตัดยอดในสมุด Balance บันทึกถาวร
           → ใครแก้ยอดต้องระบุเหตุผล + คุณนิดอนุมัติเท่านั้น

10. เชื่อมกับแดชบอร์ดผู้บริหาร
           → หน้าเดียวเห็นสมุด Balance ทั้ง 5 สาขาแบบเรียลไทม์:
                      • ยอด Balance ปัจจุบันแยกประเภทน้ำมัน
                      • Gain/Loss วันนี้ และสะสมเดือนนี้
                      • สีสถานะ (เขียว = ตรงยอดวัด / แดง = คลาดเคลื่อน)
                      • กราฟเปรียบเทียบ Balance vs ยอดวัดใต้ดิน 30 วันย้อนหลัง",,,,
,10. การจัดการสมุดซื้อน้ำมัน,"1. ทันทีที่บันทึก “การรับน้ำมัน” เรียบร้อย
          - ระบบ → สร้าง 1 บรรทัดใน “สมุดซื้อน้ำมัน” อัตโนมัติ 100%
          - ข้อมูลที่ลงทันที:
                      - วันที่รับ
                      - Delivery Note No.
                      - OrderNo / SupplierOrderNo
                      - สาขา + นิติบุคคล
                      - ประเภทน้ำมัน
                      - จำนวนลิตรจริงที่รับ
                      - ราคาต่อลิตรวันนั้น (จากใบสั่งหรือ ปตท. แจ้ง)
                      - มูลค่ารวม (ยังไม่รวม VAT)
                      - สถานะ “รอใบกำกับ”

2. เมื่อโหลดหรือกรอกใบกำกับภาษี ปตท.
          - บัญชี → จับคู่ใบกำกับกับบรรทัดในสมุดซื้อ
                      - ระบบดึงเลขที่ใบกำกับ + วันที่ใบกำกับ + ยอดเงินเต็ม (รวม VAT) + ส่วนลด
                      - สถานะเปลี่ยนเป็น “มีใบกำกับแล้ว”

3. ทุกเช้า 08:00 น.
          - ระบบ → ส่ง Line คุณนิด + บัญชี
          - “สมุดซื้อน้ำมันใหม่เมื่อวาน”
                      - มีกี่เที่ยว
                      - รวมกี่ลิตร
                      - รวมเงินกี่บาท
                      - ใบกำกับยังมาไม่ครบกี่ใบ (สีส้ม)

4. เมื่อชำระเงินเรียบร้อย
          - บัญชีกด “ชำระแล้ว” ในสมุดซื้อ → ระบบ
                      - เปลี่ยนสถานะเป็น “ชำระแล้ว” สีเขียว
                      - ใส่วันที่จ่ายจริง + เลขที่สลิป
                      - ตัดเจ้าหนี้ ปตท. อัตโนมัติ

5. 18:00 น. ทุกวัน
          - ระบบ → สแกนสมุดซื้อ
                     - ถ้ามีใบกำกับครบ 7 วันแต่ยังไม่จ่าย → สีแดง + แจ้งคุณนิดด่วน

6. คุณนิดเช็คสมุดซื้อน้ำมันทุกเย็น
          - เปิดหน้าเดียว → เห็นตารางเรียงวันที่
                      - สีเขียว = ชำระแล้ว
                      - สีเหลือง = มีใบกำกับแต่ยังไม่จ่าย
                      - สีแดง = เกินกำหนดชำระ
                      - สีส้ม = รับน้ำมันแล้วแต่ยังไม่มีใบกำกับ

7. สิ้นเดือนอัตโนมัติ
          - ระบบ → สรุปสมุดซื้อน้ำมันทั้งเดือน แยก 5 นิติบุคคล
                      - Export Excel ให้บัญชีทำภาษีซื้อ + ปิดบัญชีทันที

8. แดชบอร์ดเรียลไทม์
          - หน้าเดียวเห็นตลอดเวลา
                      - ยอดซื้อน้ำมันวันนี้
                      - ราคาเฉลี่ยถ่วงน้ำหนักวันนี้
                      - ใบกำกับที่ยังไม่มา (สีส้ม)
                      - เจ้าหนี้ ปตท. ที่ต้องจ่ายใน 7 วันนี้",,,,,,,"1. เชื่อมกับฟังก์ชั่น “การรับน้ำมัน”
           → ทุกครั้งที่บันทึกการรับน้ำมัน → สร้างรายการใน “สมุดซื้อน้ำมัน” อัตโนมัติ
           → บันทึก: วันที่รับ, DeliveryNoteNo, QuantityReceived, ราคาต่อลิตรวันนั้น, มูลค่ารวม, LegalEntityID, OilType

2. เชื่อมกับฟังก์ชั่น “การสั่งซื้อน้ำมัน”
           → ดึง OrderNo + SupplierOrderNo + ราคาที่ล็อกไว้ตอนสั่ง มาเปรียบเทียบกับราคาที่รับจริง
           → ถ้าราคาต่างกัน → แสดงส่วนต่างราคาอัตโนมัติ

3. เชื่อมกับโมดูลเจ้าหนี้การค้า (Accounts Payable
           → สร้างรายการเจ้าหนี้ ปตท. จากสมุดซื้อน้ำมันทันทีที่รับน้ำมัน
           → ถ้ายังค้างในสมุดตั้งพัก → ยังไม่ตั้งเจ้าหนี้

4. เชื่อมกับโมดูลภาษีซื้อ (Input VAT)
           → ดึงมูลค่าซื้อจากสมุดซื้อน้ำมันไปคำนวณภาษีซื้อ 7% อัตโนมัติ
           → แยกภาษีซื้อตามนิติบุคคลชัดเจนทุกบรรทัด

5. เชื่อมกับฟังก์ชั่น “การชำระเงินซื้อน้ำมัน”
           → เมื่อจ่ายเงิน → ตัดสถานะในสมุดซื้อน้ำมันเป็น “ชำระแล้ว” + วันที่จ่าย + เลขที่สลิป
           → แสดง Aging เจ้าหนี้จากสมุดนี้ได้เลย

6. เชื่อมกับสมุด Balance Petrol และสมุดวัดใต้ดิน
           → ยอดซื้อจากสมุดนี้ต้องเพิ่มเข้า Balance Petrol เท่ากันทุก лิตร
           → ใช้ตรวจสอบว่า “ซื้อมากี่ลิตร → เข้า Balance จริงกี่ลิตร”

7. เชื่อมกับโมดูลแจ้งเตือน (Notification)
           → แจ้ง Line Group “ซื้อน้ำมัน” + คุณนิด + บัญชี เมื่อ:
                      • มีรายการซื้อใหม่ในสมุดซื้อ (รับน้ำมันแล้ว)
                      • ราคารับจริงต่างจากราคาสั่งเกินเกณฑ์
                      • ยังไม่จ่ายเงินเกิน 7 วันตามเครดิต

8. เชื่อมกับระบบ e-Tax Invoice ปตท.
           → ใช้ DeliveryNoteNo จากสมุดซื้อน้ำมันไปจับคู่ใบกำกับภาษีอิเล็กทรอนิกส์อัตโนมัติ
           → ถ้ายังไม่จับคู่ → แสดงสถานะ “รอใบกำกับ”

9. เชื่อมกับโมดูล Audit Log ถาวร
           → ทุกบรรทัดในสมุดซื้อบันทึกถาวร: ใครรับ, รับวันไหน, ราคาเท่าไหร่, จ่ายหรือยัง
           → แก้ไขได้เฉพาะคุณนิด + บัญชีกลาง พร้อมเหตุผล

10. เชื่อมกับแดชบอร์ดและรายงาน
           → แสดงแบบเรียลไทม์:
                      • ปริมาณและมูลค่าซื้อน้ำมันรายวัน/เดือน แยกนิติบุคคล
                      • ราคาเฉลี่ยถ่วงน้ำหนักต่อลิตร
                      • รายการที่ยังไม่จ่ายเงิน
                      • เปรียบเทียบซื้อ vs ขาย vs คงเหลือ",,,,
,11. การจัดการสมุดขายส่ง,,,,,,,,"1. เชื่อมกับฟังก์ชั่น “การขายน้ำมัน”
           → เมื่อบันทึกบิลขายส่ง → ตัดยอดออกจากสต็อกใต้ดินเหมือนยอดขายหัวจ่ายปกติ
           → แต่แยกเป็น “ยอดขายส่ง” ไม่รวมในยอดหัวจ่าย

2. เชื่อมกับฟังก์ชั่น “สมุดวัดน้ำมันใต้ดิน” และ “สมุด Balance Petrol”
           → ยอดขายส่งทุกครั้งต้องตัดออกจากสมุดวัดและสมุด Balance ทันที
           → ใช้คำนวณ Gain/Loss รายวันเหมือนกัน (ถ้าลืมตัด = Balance จะบวม)

3. เชื่อมกับโมดูลลูกหนี้การค้า (Accounts Receivable)
           → สร้างรายการลูกหนี้ตาม LegalEntityID ของนิติบุคคลที่ขาย
           → รองรับเครดิตเทอม 7/15/30/45 วัน แยกตามลูกค้า
           → แสดง Aging ลูกหนี้ขายส่งแยกจากลูกหนี้การ์ด

4. เชื่อมกับโมดูลภาษีขาย (Output VAT)
           → ออกใบกำกับภาษีเต็มรูปแบบอัตโนมัติ (ไม่ใช่ใบเสร็จอย่างย่อ)
           → คำนวณภาษี 7% และแยกตามนิติบุคคลชัดเจน

5. เชื่อมกับโมดูลบัญชีและการเงิน
           → บันทึกรายได้ขายส่ง + ต้นทุนขาย (COGS) จากราคาเฉลี่ยถ่วงน้ำหนัก
           → กระทบกำไรขั้นต้นขายส่งแยกจากกำไรขั้นต้นหน้าร้าน

6. เชื่อมกับโมดูลการรับเงินขายส่ง
           → รองรับรับเงินหลายรูปแบบ: โอนธนาคาร, เช็ค, หักกลบลูกหนี้ระหว่างบริษัท
           → ตัดยอดลูกหนี้ทันทีเมื่อรับเงิน + บันทึกเลขที่สลิป/เช็ค

7. เชื่อมกับโมดูลแจ้งเตือน (Notification)
           → ส่ง Line Group “ขายส่ง” + คุณนิด + บัญชี เมื่อ:
                      • มีบิลขายส่งใหม่
                      • ลูกค้าค้างชำระเกินเครดิตเทอม
                      • ยอดขายส่งวันนี้เกิน 100,000 ลิตร
                      • ตัดยอดขายส่งแล้วแต่ยังไม่บันทึกใบกำกับภาษี

8. เชื่อมกับโมดูลคลังถังและการบรรจุ
           → ถ้าขายส่งแบบบรรจุถัง → ตัดถังออกจากสต็อกถัง
           → บันทึกเลขถัง, ทะเบียนรถลูกค้า, คนขับ

9. เชื่อมกับโมดูล Audit Log ถาวร
           → ทุกบิลขายส่งบันทึกถาวร: ใครขาย, ขายให้ใคร, กี่ลิตร, ราคาไหน, จ่ายหรือยัง
           → แก้ไขบิลได้เฉพาะคุณนิด + บัญชี พร้อมเหตุผล

10. เชื่อมกับแดชบอร์ดและรายงานผู้บริหาร
           → แสดงแบบเรียลไทม์:
                      • ยอดขายส่งวันนี้/เดือนนี้ แยกประเภทน้ำมันและลูกค้า
                      • กำไรขั้นต้นขายส่ง
                      • ลูกหนี้ค้างชำระขายส่ง + Aging
                      • เปรียบเทียบขายส่ง vs ขายปลีก
                      • อันดับลูกค้าขายส่งที่ซื้อมากสุด",,,,
,12. การจัดการสมุดน้ำมันลงหลุม,,,,,,,,"1. เชื่อมกับฟังก์ชั่น “การรับน้ำมัน”
           → ทุกครั้งที่บันทึกการรับน้ำมันเสร็จ → บันทึกลง “สมุดน้ำมันลงหลุม” อัตโนมัติ 100%
           → ข้อมูลที่ลง: วันที่รับ, DeliveryNoteNo, OilType, หลุมที่ลง, QuantityReceived, TruckChamber1–7, 
                APICheck, พนักงานที่รับ

2. เชื่อมกับฟังก์ชั่น “สมุดวัดน้ำมันใต้ดิน”
           → ใช้เป็นตัวหลักเปรียบเทียบกับยอดกรอกมือปลายวัน
           → ถ้ายอดใน “สมุดลงหลุม” + ยอดเปิดวัน ไม่ตรงกับยอดกรอกมือ → แจ้งเตือนทันที

3. เชื่อมกับฟังก์ชั่น “สมุด Balance Petrol”
           → ทุกบันทึกในสมุดลงหลุม → เพิ่มยอดเข้า Balance Petrol อัตโนมัติเท่ากันทุก лิตร
           → ถ้าสมุดลงหลุมขาดแม้แต่ครั้งเดียว → Balance Petrol จะขาดทันที

4. เชื่อมกับฟังก์ชั่น “สมุดตั้งพัก”
           → น้ำมันที่ยังค้างในสมุดตั้งพัก → ยังไม่บันทึกลง “สมุดน้ำมันลงหลุม”
           → เมื่อรับจริงและตัดตั้งพักแล้ว → บันทึกลงสมุดลงหลุมทันที

5. เชื่อมกับโมดูล Gain/Loss
           → สมุดลงหลุมคือ “ยอดรับเข้า” หลักที่ใช้คำนวณ Gain/Loss รายวัน
           → สูตร: ยอดเปิดวัน + ลงหลุมวันนี้ – ขายออก – ยอดปิดวัน = Gain/Loss

6. เชื่อมกับโมดูลแจ้งเตือน (Notification)
           → ส่ง Line Group “น้ำมันลงหลุม” + คุณนิด + บัญชีทันทีเมื่อ:
                      • มีการบันทึกน้ำมันลงหลุมใหม่
                      • รับน้ำมันแล้วแต่ยังไม่บันทึกลงหลุมเกิน 1 ชม.
                      • ลงหลุมไม่ตรงกับใบส่งของ (จำนวนหรือประเภท)

7. เชื่อมกับโมดูลบัญชีและสินค้าคงคลัง
           → ยอดรวมในสมุดลงหลุม = สินค้าคงเหลือน้ำมันใต้ดินในงบดุลจริง
           → เป็นตัวหลักที่ ปตท. Audit และสรรพสามิตใช้ตรวจ

8. เชื่อมกับระบบ Back Office ปตท. (ทางอ้อม)
           → ใช้สมุดลงหลุมนี้ Export เป็นหลักฐานว่าลงหลุมจริงกี่ลิตร เวลา ปตท. มาออกออดิท
           → สร้างรายงานแบบ สนง.10 ได้จากสมุดนี้โดยตรง

9. เชื่อมกับโมดูล Audit Log ถาวร
           → ทุกบรรทัดในสมุดลงหลุมบันทึกถาวรตลอดชีพ
           → แก้ไขได้เฉพาะคุณนิด + บัญชีกลาง + ต้องระบุเหตุผล + แนบหลักฐานเพิ่ม

10. เชื่อมกับแดชบอร์ดผู้บริหาร
           → แสดงเรียลไทม์ทั้ง 5 สาขา:
                      • ปริมาณน้ำมันที่ลงหลุมวันนี้ (ลิตร)
                      • ลงหลุมแล้วกี่เที่ยว
                      • หลุมไหนลงล่าสุด
                      • เปรียบเทียบลงหลุม vs รับน้ำมัน
                      • สีแดง = มีรับน้ำมันแต่ยังไม่ลงหลุม",,,,
,13. การทดสอบน้ำมัน,,,,,,,,"1. เชื่อมกับฟังก์ชั่น “การรับน้ำมัน”
           → ทุกครั้งที่มีรถน้ำมันมาส่ง → ระบบบังคับทำ “การทดสอบน้ำมัน” ก่อนกด “บันทึกการรับ”
           → ถ้ายังไม่ทดสอบหรือผลไม่ผ่าน → ล็อกไม่ให้บันทึกการรับ และไม่ให้ลงสมุดลงหลุมได้
2. เชื่อมกับการกรอกผลทดสอบด้วยมือโดยพนักงานรับน้ำมัน
           → พนักงานที่รับรถ (หรือผู้จัดการสาขา) ต้องกรอกผลทดสอบจริง 5 รายการหลักด้วยมือ:
                      Appearance (ใส/ขุ่น/สีผิดปกติ)
                      Water Content (ใช้กาวน้ำ – ระบุ มี/ไม่มี)
                      API Gravity @60°F (อ่านจากหลอดวัด)
                      Density @15°C
                      อุณหภูมิน้ำมันตอนวัด
3. เชื่อมกับตารางเกณฑ์มาตรฐานที่ตั้งไว้ในระบบ
           → ระบบเช็คอัตโนมัติตามเกณฑ์ ปตท. ที่บันทึกตายตัว เช่น
                      Diesel API 30.0–42.0
                      Gasohol 95 API 48.0–60.0
                      น้ำต้องไม่มี (กาวน้ำไม่เปลี่ยนสี)
           → ถ้าผิดเกณฑ์ → สีแดง + บังคับใส่เหตุผล
4. เชื่อมกับฟังก์ชั่น “สมุดน้ำมันลงหลุม” และ “สมุด Balance Petrol”
           → ถ้าผลทดสอบ “ผ่าน” → ปลดล็อกให้บันทึกลงสมุดลงหลุมและเพิ่ม Balance ได้
           → ถ้า “ไม่ผ่าน” → ล็อกตาย ห้ามลงหลุม และขึ้นสถานะ “รอคืนน้ำมัน”
5. เชื่อมกับโมดูลแจ้งเตือน (Notification)
           → ส่ง Line Group “ทดสอบน้ำมัน” + คุณนิด + ผู้จัดการสาขาทันทีเมื่อ:
                      • มีรถมาส่งแต่ยังไม่ทดสอบเกิน 30 นาที
                      • ผลทดสอบไม่ผ่าน (API ผิด, มีน้ำ, สีขุ่น)
           → ส่งข้อความอัตโนมัติพร้อมรูปที่พนักงานอัปโหลด
6. เชื่อมกับโมดูล Audit Log และหลักฐานถาวร
           → เก็บผลทดสอบ + รูปถ่ายทุกครั้งตลอดชีพตาม DeliveryNoteNo
           → เวลา ปตท. มาออกออดิท → ดึงรายงาน + รูปได้ในคลิกเดียว
7. เชื่อมกับการทดสอบประจำเดือน
           → ระบบเตือนล่วงหน้า 7 วันว่าหลุมไหนใกล้ครบกำหนดทดสอบประจำเดือน
           → พนักงานกรอกผล + แนบรูปเหมือนกันทุกประการ
8. เชื่อมกับแดชบอร์ดคุณภาพน้ำมัน
           → หน้าเดียวเห็นทั้ง 5 สาขา:
                      • ครั้งล่าสุดที่ทดสอบ (วันที่ + เวลา + ชื่อพนักงาน)
                      • ผล 5 รายการ + รูป
                      • สถานะสีเขียว/แดง
                      • จำนวนครั้งที่ไม่ผ่านย้อนหลัง 12 เดือน",,,,
2. การจัดการใบฝากน้ำมัน,1. การสร้างและจัดการใบฝาก,,,,,,,,"1. เชื่อมกับฟังก์ชั่น “การขายน้ำมัน” และ “สมุดขายส่ง”
           → เมื่อสร้างใบฝาก → ตัดยอดน้ำมันออกจากสต็อกสาขาต้นทางทันที (เหมือนขายส่ง)
           → บันทึกในสมุดขายส่งเป็น “ขายฝาก”

2. เชื่อมกับฟังก์ชั่น “สมุดน้ำมันลงหลุม” + “สมุด Balance Petrol”
           → ยอดที่ออกใบฝาก → ตัดออกจากสมุดลงหลุมและ Balance Petrol ของสาขาต้นทางทันที
           → ถ้ายังไม่ตัด = Balance บวม

3. เชื่อมกับโมดูลลูกหนี้ระหว่างสาขา (Interbranch AR/AP)
           → สาขาที่รับฝาก → เกิด “ลูกหนี้ระหว่างสาขา” ให้สาขาต้นทางอัตโนมัติ
           → หรือถ้าฝากให้ลูกค้าภายนอก → เกิดลูกหนี้การค้าปกติ

4. เชื่อมกับโมดูลบัญชีและภาษีขาย
           → ถ้าฝากให้ลูกค้าภายนอก → ออกใบกำกับภาษีเต็มรูปแบบทันที
           → ถ้าฝากระหว่างสาขา → บันทึกเป็น “ขายระหว่างกัน” (ยังไม่ต้องออกใบกำกับทันที)

5. เชื่อมกับการรับน้ำมันคืนจากใบฝาก
           → เมื่อลูกค้าหรือสาขาอื่นเอาน้ำมันคืนตามใบฝาก → บันทึกเป็น “รับน้ำมันคืน”
           → ตัดลูกหนี้ + เพิ่มยอดกลับเข้า Balance Petrol ของสาขาต้นทาง

6. เชื่อมกับโมดูลคลังถังและการบรรจุ
           → บันทึกเลขถัง, ทะเบียนรถ, คนขับ, น้ำหนักถังเปล่า/เต็ม
           → ตัดถังออกจากสต็อกคลังถังของสาขาต้นทาง

7. เชื่อมกับโมดูลแจ้งเตือน (Notification)
           → ส่ง Line Group “ใบฝาก” + คุณนิด + ผู้จัดการสาขาทั้งสองฝั่งทันทีเมื่อ:
                      • สร้างใบฝากใหม่
                      • ใบฝากใกล้ครบกำหนดคืน (เช่น 7 วัน)
                      • ใบฝากเกินกำหนดยังไม่คืน
                      • มีการรับน้ำมันคืนจากใบฝาก

8. เชื่อมกับโมดูล Audit Log ถาวร
           → ทุกใบฝากบันทึกถาวร:
                      ใครสร้าง, ฝากให้ใคร, กี่ลิตร, วันไหน, ครบกำหนดวันไหน
                      สถานะ: รอคืน / คืนแล้ว / ขาดทุน / เกินคืน
                      → แก้ไขได้เฉพาะคุณนิด + บัญชีกลาง

9. เชื่อมกับการชำระเงินและหักกลบ
           → รองรับการหักกลบกับบิลอื่น, รับเงินสด, โอนเงิน
           → ตัดยอดลูกหนี้ทันทีเมื่อชำระ

10. เชื่อมกับแดชบอร์ดและรายงานผู้บริหาร
           → แสดงเรียลไทม์ทั้ง 5 สาขา:
                      • ใบฝากที่ยังไม่คืน (จำนวนใบ + ลิตร + มูลค่า)
                      • ใบฝากเกินกำหนด (สีแดง)
                      • ยอดน้ำมันที่ฝากออกวันนี้
                      • อันดับสาขาที่ฝากออกมากที่สุด
                      • ประวัติใบฝากย้อนหลัง 12 เดือน",,,,
,2. การรับน้ำมันด้วยใบฝาก,,,,,,,,"1. เชื่อมกับฟังก์ชั่น “การสร้างและจัดการใบฝาก”
           → ต้องระบุเลขที่ใบฝากเดิม → ระบบดึงข้อมูลอัตโนมัติ (ลูกค้า, ประเภทน้ำมัน, จำนวนที่ฝาก, วันที่ฝาก, ครบกำหนดคืน)

2. เชื่อมกับฟังก์ชั่น “การรับน้ำมัน”
           → ใช้ขั้นตอนเหมือนรับน้ำมัน ปตท. ปกติทุกอย่าง
                      กรอกทะเบียนรถ, คนขับ, จำนวนลิตรจริงที่คืนมา
                      ทดสอบน้ำมัน (API, กาวน้ำ, สี)
                      แนบรูปถ่ายเหมือนรับน้ำมันปกติ
                      → แต่ระบุเพิ่มว่า “รับคืนตามใบฝากเลขที่ …”

3. เชื่อมกับ “สมุดน้ำมันลงหลุม” + “สมุด Balance Petrol”
           → ยอดที่รับคืน → เพิ่มกลับเข้า Balance Petrol และสมุดลงหลุมของสาขาที่รับคืนทันที
           → ถ้าคืนเกินกว่าที่ฝากไว้ → บันทึกส่วนเกินเป็น “รับน้ำมันเพิ่ม”

4. เชื่อมกับโมดูลลูกหนี้ระหว่างสาขา / ลูกหนี้การค้า
           → ตัดยอดลูกหนี้จากใบฝากเดิมอัตโนมัติตามจำนวนที่คืนจริง
           → ถ้าคืนไม่ครบ → เหลือลูกหนี้ตามส่วนที่ขาด
           → ถ้าคืนเกิน → เกิด “เจ้าหนี้” ให้ลูกค้าหรือสาขานั้นทันที

5. เชื่อมกับโมดูลคลังถัง
           → บันทึกเลขถังที่คืนมา → เพิ่มกลับเข้าสต็อกถังของสาขาที่รับ
           → ถ้าถังไม่ครบหรือเสียหาย → บังคับระบุและตัดออก

6. เชื่อมกับโมดูลแจ้งเตือน (Notification)
           → ส่ง Line Group “รับคืนใบฝาก” + คุณนิด + ผู้จัดการทั้งสองสาขาทันทีเมื่อ:
                      • มีการรับน้ำมันคืนตามใบฝาก
                      • คืนไม่ครบจำนวน → แจ้งส่วนที่ยังขาด
                      • คืนเกิน → แจ้งส่วนเกิน
                      • ใบฝากครบกำหนดแล้วเพิ่งมาคืน

7. เชื่อมกับโมดูลบัญชีและภาษี
           → ถ้าฝากระหว่างสาขา → ตัดรายการขายระหว่างกัน
           → ถ้าฝากให้ลูกค้าภายนอก → บันทึกเป็น “ลดหนี้” หรือออกใบลดหนี้ (ถ้าคืนเกิน)

8. เชื่อมกับสมุดขายส่ง
           → ปิดสถานะใบฝากเดิมเป็น “คืนแล้ว” หรือ “คืนบางส่วน”
           → แสดงผลในรายงานใบฝากค้างทันที

9. เชื่อมกับ Audit Log ถาวร
           → บันทึกทุกขั้นตอน:
                      ใบฝากเลขที่ไหน
                      คืนวันไหน, กี่ลิตร
                      ผลทดสอบน้ำมันที่คืน
                      ใครเป็นคนรับคืน
                      รูปถ่ายหลักฐานครบ

10. เชื่อมกับแดชบอร์ดใบฝาก
           → อัปเดตเรียลไทม์:
                      • ใบฝากเลขที่ … คืนแล้วกี่ลิตร (เท่าไหร่/ขาด/เกิน)
                      • สีเขียว = คืนครบ, สีแดง = ยังขาด, สีส้ม = คืนเกิน
                      • ยอดรวมใบฝากที่ยังค้างรับคืนวันนี้",,,,
3. การจัดการน้ำมันหล่อลื่นและแก๊ส,1. การจัดการน้ำมันหล่อลื่น,,,,,,,,"1. เชื่อมกับโมดูลซื้อสินค้าและเจ้าหนี้
           → สร้างใบสั่งซื้อน้ำมันหล่อลื่น → ตั้งเจ้าหนี้ตาม supplier (Castrol, Shell, PTT Lubricant ฯลฯ)
           → เมื่อรับของ → บันทึกเข้า “สต็อกน้ำมันหล่อลื่น” + ตั้งภาษีซื้อ

2. เชื่อมกับโมดูลสต็อกสินค้าหน้าร้าน (แยกตามสาขา)
           → มีสต็อกแยก 5 สาขา + แยกตามประเภท/ยี่ห้อ/ขนาด
           → รองรับการโอนย้ายระหว่างสาขา (เหมือนโอนน้ำมัน)

3. เชื่อมกับโมดูลขายหน้าร้าน (POS)
           → ขายน้ำมันหล่อลื่นผ่านเครื่อง POS → ตัดสต็อกอัตโนมัติ
           → รองรับขายพร้อมเปลี่ยนถ่าย (มีบริการ) หรือขายอย่างเดียว

4. เชื่อมกับฟังก์ชั่น “การขายน้ำมัน”
           → ถ้าลูกค้ามาเติมน้ำมัน + เปลี่ยนน้ำมันเครื่อง → รวมในบิลเดียวกันได้
           → แยกยอดขายน้ำมันกับยอดขายน้ำมันหล่อลื่นชัดเจน

5. เชื่อมกับโมดูลบริการเปลี่ยนถ่ายน้ำมันเครื่อง
           → บันทึกประวัติรถลูกค้า (ทะเบียน, ยี่ห้อรถ, กี่กม., เกรดน้ำมันเครื่องที่ใช้)
           → สร้างใบงานช่าง + คำนวณค่าแรงเปลี่ยนถ่าย

6. เชื่อมกับโมดูลภาษีขายและใบกำกับภาษี
           → ออกใบกำกับภาษีเต็มรูป/อย่างย่อได้
           → คำนวณภาษี 7% จากยอดขายน้ำมันหล่อลื่น + ค่าแรง

7. เชื่อมกับโมดูลแจ้งเตือนสต็อก
           → แจ้ง Line Group “น้ำมันหล่อลื่น” + คุณนิด + ผู้จัดการสาขา เมื่อ:
                      • สต็อกเหลือต่ำกว่า Reorder Point (เช่น เหลือ 5 แกลลอน)
                      • มีรายการยอดฮิตขายดีมาก (เช่น 0W-20 ขายเกิน 50 แกลลอน/สัปดาห์)
           → แจ้งเตือนรายการใกล้หมดอายุ (ถ้ามี)

8. เชื่อมกับโมดูลโปรโมชั่นและส่วนลด
           → รองรับโปรแบบ “เติมน้ำมันครบ 800 บาท รับสิทธิ์ซื้อน้ำมันเครื่องลด 10%”
           → หรือแถมน้ำมันเครื่องเมื่อเติมน้ำมันครบจำนวน

9. เชื่อมกับโมดูล Audit Log และหลักฐานถาวร
           → ทุกการซื้อ-ขาย-โอน-ตัดสต็อก บันทึกถาวร
           → เก็บรูปใบสั่งซื้อ, ใบส่งของ, ใบกำกับภาษี

10. เชื่อมกับแดชบอร์ดและรายงานผู้บริหาร
           → แสดงเรียลไทม์ทั้ง 5 สาขา:
                      • ยอดขายน้ำมันหล่อลื่นวันนี้/เดือนนี้
                      • อันดับสินค้าขายดี Top 10
                      • กำไรขั้นต้นน้ำมันหล่อลื่น (แยกจากกำไรน้ำมัน)
                      • สต็อกคงเหลือแยกสาขา + มูลค่าสต็อก
                      • รายการใกล้หมด/หมดอายุ",,,,
,2. การจัดการแก๊ส,,,,,,,,"1. เชื่อมกับโมดูลซื้อแก๊สและเจ้าหนี้
           → สร้างใบสั่งซื้อแก๊ส → ตั้งเจ้าหนี้ ปตท./ผู้ค้าส่งแก๊ส
           → เมื่อรถแก๊สมาส่ง → บันทึกจำนวนถังที่รับจริง + น้ำหนักจริง → ตั้งภาษีซื้อ

2. เชื่อมกับโมดูลสต็อกแก๊ส (แยก 5 สาขา)
           → สต็อกแยกตามขนาดถัง + สถานะ (เต็ม/เปล่า/ซ่อม)
           → รองรับการโอนถังระหว่างสาขาและบันทึกทะเบียนรถขนส่ง

3. เชื่อมกับโมดูลขายหน้าร้าน (POS)
           → ขายแก๊สปลีก (ลูกค้ามาซื้อถัง) → ตัดสต็อกถังเต็ม + เพิ่มสต็อกถังเปล่าทันที
           → รองรับขายแลกถัง, ขายถังเปล่า, ฝากถัง

4. เชื่อมกับโมดูลขายส่งแก๊ส
           → ขายส่งให้ร้านค้า, โรงงาน, ร้านอาหาร → ออกใบกำกับภาษีเต็มรูป
           → บันทึกทะเบียนรถลูกค้า + คนขับ + จำนวนถังส่ง

5. เชื่อมกับโมดูลรับคืนถังเปล่า / ฝากถัง
           → ลูกค้ามาคืนถังเปล่า → เพิ่มสต็อกถังเปล่า + ลดลูกหนี้มัดจำ (ถ้ามี)
           → ฝากถัง → สร้าง “ลูกหนี้มัดจำถัง” อัตโนมัติ

6. เชื่อมกับโมดูลมัดจำและคืนมัดจำถัง
           → บันทึกมัดจำถังแยกตามขนาด (15 กก. = 400 บาท, 48 กก. = 1,200 บาท ฯลฯ)
           → เมื่อคืนถัง → ตัดมัดจำอัตโนมัติ หรือคืนเงินสด/โอน

7. เชื่อมกับโมดูลแจ้งเตือน (Notification)
           → ส่ง Line Group “แก๊ส” + คุณนิด + ผู้จัดการสาขาทันทีเมื่อ:
                      • สต็อกถังเต็มเหลือต่ำกว่า 20 ถัง
                      • ถังเปล่าค้างสต็อกเกิน 500 ใบ (ต้องรีบส่งคืนโรงเติม)
                      • มีการรับแก๊สใหม่
                      • มัดจำถังค้างนานเกิน 90 วัน

8. เชื่อมกับโมดูลบัญชีและภาษี
           → แยกยอดขายแก๊ส, ค่าแรงเติมแก๊ส, มัดจำถังชัดเจน
           → คำนวณภาษีขาย 7% + ภาษีซื้อจากใบกำกับ supplier

9. เชื่อมกับ Audit Log ถาวร
           → ทุกการรับ-ขาย-โอน-คืนถัง บันทึกถาวรพร้อมรูปถ่ายใบส่งของ/ใบกำกับ

10. เชื่อมกับแดชบอร์ดแก๊สผู้บริหาร
           → หน้าเดียวเห็นทั้ง 5 สาขาแบบเรียลไทม์:
                      • จำนวนถังเต็ม/ถังเปล่าปัจจุบัน
                      • ยอดขายแก๊สวันนี้ (กิโลกรัม + บาท)
                      • มูลค่ามัดจำถังที่ค้างอยู่
                      • อันดับสาขาขายแก๊สสูงสุด
                      • ถังที่ต้องส่งคืนโรงเติมสัปดาห์นี้",,,,
4. การปรับราคาน้ำมัน,1. การจัดการรายงานและแดชบอร์ด,,,,,,,,"1. เชื่อมกับทุกฟังก์ชั่นหลักแบบเรียลไทม์
           → ดึงข้อมูลจาก
                      สมุดน้ำมันลงหลุม
                      สมุด Balance Petrol
                      สมุดตั้งพัก
                      สมุดซื้อน้ำมัน
                      สมุดขายส่ง
                      สมุดวัดใต้ดิน
                      ใบฝาก
                      น้ำมันหล่อลื่น
                      แก๊ส
                      การเงินและบัญชี
                      → อัปเดตทุก 1–5 นาที (หรือทันทีเมื่อมีการบันทึก)

2. เชื่อมกับแดชบอร์ดผู้บริหาร (หน้าแรกที่คุณนิดเปิดทุกเช้า)
           → หน้าเดียวเห็นภาพรวมทั้ง 5 สาขา:
                      ยอดขายน้ำมันวันนี้ vs เมื่อวาน vs เดือนที่แล้ว
                      Gain/Loss วันนี้ (สีเขียว/แดง)
                      สต็อกน้ำมันใต้ดินทั้งหมด (ลิตร + มูลค่า)
                      ใบฝากค้างคืน (ลิตร + บาท)
                      เจ้าหนี้ ปตท. ที่ต้องจ่ายใน 7 วันนี้
                      ยอดขายน้ำมันหล่อลื่น + แก๊ส
                      เงินสดในลิ้นชักแต่ละสาขา

3. เชื่อมกับแดชบอร์ดคุณนิด (มุมมองสั่งน้ำมัน)
           → เห็นเฉพาะที่ต้องตัดสินใจวันนี้:
                      แต่ละสาขาขอสั่งเท่าไหร่
                      ระบบแนะนำสั่งเท่าไหร่
                      ยอดสต็อกเหลือจริง (จากกรอกมือ)
                      ความจุรถวันพรุ่งนี้
                      ใบสั่งซื้อที่รออนุมัติ

4. เชื่อมกับแดชบอร์ดบัญชี
           → เจ้าหนี้/ลูกหนี้, ภาษีซื้อ-ขาย, Aging, เงินฝากธนาคาร, ต้นทุนขายน้ำมันวันนี้

5. เชื่อมกับรายงานสรรพสามิตและ ปตท. Audit
           → ปุ่มกดปุ๊บออกไฟล์ทันที:
                      สนง.10 (สมุดใต้ดิน)
                      รายงานรับน้ำมัน
                      รายงานซื้อน้ำมัน
                      รายงาน Gain/Loss รายเดือน
                      รายงานภาษีซื้อ-ขาย

6. เชื่อมกับการแจ้งเตือนอัตโนมัติ
           → ทุกเช้า 07:00 น. ส่ง Line คุณนิด + ผู้บริหาร
                      สรุปยอดขายเมื่อวาน
                      Gain/Loss
                      สต็อกเหลือต่ำ
                      ใบฝากค้าง
                      → ทุกเย็น 18:00 น. แจ้ง “ใครยังไม่กรอกยอดวัดใต้ดิน”

7. เชื่อมกับสิทธิ์การเข้าถึง (Role-Based)
           → คุณนิด = เห็นทุกอย่าง
           → ผู้จัดการสาขา = เห็นเฉพาะสาขาตัวเอง
           → บัญชี = เห็นเฉพาะการเงิน
           → พนักงาน = เห็นเฉพาะ POS และสต็อกหน้าร้าน

8. เชื่อมกับ Export ทุกรูปแบบ
           → Excel, PDF, CSV
           → ส่งอีเมลอัตโนมัติทุกสิ้นเดือนให้ผู้บริหาร + สำนักงานบัญชี

9. เชื่อมกับกราฟและวิเคราะห์เทรนด์
           → กราฟ 30 วัน, 90 วัน, 365 วัน
           → เปรียบเทียบสาขาไหนขายดีสุด
           → พยากรณ์ยอดขาย 7 วันข้างหน้า (ช่วยสั่งน้ำมัน)

10. เชื่อมกับ Audit Log ของแดชบอร์ดเอง
           → บันทึกว่าคุณนิดเข้าไปดูอะไร เวลาไหน เพื่อความโปร่งใส",,,,